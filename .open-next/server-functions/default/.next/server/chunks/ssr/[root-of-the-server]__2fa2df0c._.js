module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},81209,a=>{a.n(a.i(62225))},9094,a=>{a.n(a.i(59310))},70864,a=>{a.n(a.i(33290))},65897,a=>{a.n(a.i(42095))},45538,a=>{a.n(a.i(63588))},2894,a=>{a.n(a.i(66188))},88018,a=>{a.n(a.i(71924))},5585,a=>{a.n(a.i(19413))},18901,a=>{a.n(a.i(40031))},33158,a=>{a.n(a.i(96562))},54641,a=>{"use strict";var b=a.i(29024),c=a.i(38704);let d=(0,c.cache)(async a=>{let c=await (0,b.createClient)(),{data:d,error:e}=await c.from("lists").select(`
            id, title, description, is_public, updated_at,
            list_entries ( rank, movies ( poster_url ), series ( poster_url ) )
        `).eq("user_id",a).order("updated_at",{ascending:!1});return e||!d?[]:d.map(a=>{let b=a.list_entries.map(a=>({poster_url:a.movies?.poster_url||a.series?.poster_url||null})).filter(a=>a.poster_url);return{id:a.id,title:a.title,description:a.description,is_public:a.is_public,item_count:a.list_entries.length,updated_at:a.updated_at,preview_items:b.slice(0,3)}})}),e=(0,c.cache)(async a=>{let c=await (0,b.createClient)(),{data:d,error:e}=await c.from("lists").select(`
            id, title, description, is_public, updated_at,
            list_entries ( rank, movies ( poster_url ), series ( poster_url ) )
        `).eq("user_id",a).eq("is_public",!0).order("updated_at",{ascending:!1});return e||!d?[]:d.map(a=>{let b=a.list_entries.map(a=>({poster_url:a.movies?.poster_url||a.series?.poster_url||null})).filter(a=>a.poster_url);return{id:a.id,title:a.title,description:a.description,is_public:a.is_public,item_count:a.list_entries.length,updated_at:a.updated_at,preview_items:b.slice(0,3)}})}),f=(0,c.cache)(async a=>{let c=await (0,b.createClient)(),{data:d}=await c.from("lists").select("*, profiles (username, display_name, profile_pic_url)").eq("id",a).single();if(!d)return null;let{data:e}=await c.from("list_entries").select("*").eq("list_id",a).order("rank",{ascending:!0});if(!e||0===e.length)return{id:d.id,title:d.title,description:d.description,user_id:d.user_id,updated_at:d.updated_at,creator:d.profiles,entries:[],backdrop_url:null};let f=e.filter(a=>a.movie_id).map(a=>a.movie_id),g=e.filter(a=>a.series_id).map(a=>a.series_id),[h,i]=await Promise.all([f.length>0?c.from("movies").select("tmdb_id, title, poster_url, release_date, backdrop_url").in("tmdb_id",f):{data:[]},g.length>0?c.from("series").select("tmdb_id, title, poster_url, release_date, backdrop_url").in("tmdb_id",g):{data:[]}]),j=new Map(h.data?.map(a=>[a.tmdb_id,a])),k=new Map(i.data?.map(a=>[a.tmdb_id,a])),l=e.map(a=>{let b=null;if(a.movie_id){let c=j.get(a.movie_id);c&&(b={...c,id:c.tmdb_id,type:"movie"})}else if(a.series_id){let c=k.get(a.series_id);c&&(b={...c,id:c.tmdb_id,type:"series"})}return b?{id:a.id,rank:a.rank,note:a.note,media:b}:null}).filter(Boolean);return{id:d.id,title:d.title,description:d.description,user_id:d.user_id,updated_at:d.updated_at,creator:d.profiles,entries:l,backdrop_url:l[0]?.media?.backdrop_url||null}});a.s(["getListDetails",0,f,"getPublicListsByUserId",0,e,"getUserLists",0,d])},80578,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(96299).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/ui/lists/BackButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/ui/lists/BackButton.tsx <module evaluation>","default")},4778,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(96299).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/ui/lists/BackButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/ui/lists/BackButton.tsx","default")},21551,a=>{"use strict";a.i(80578);var b=a.i(4778);a.n(b)},73006,a=>{"use strict";var b=a.i(20239),c=a.i(29024);a.i(16162);var d=a.i(25161),e=a.i(88543),f=a.i(52756),g=a.i(54641),h=a.i(38704);let i=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}),j=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});var k=a.i(21551);async function l({params:a}){let{id:h}=await a,l=await (0,c.createClient)(),m=await (0,g.getListDetails)(h);m||(0,d.notFound)();let{data:{user:n}}=await l.auth.getUser(),o=n?.id===m.user_id;return(0,b.jsxs)("div",{className:"min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 font-sans selection:bg-zinc-200 dark:selection:bg-zinc-800",children:[(0,b.jsx)("nav",{className:"sticky top-0 z-20 bg-white/90 dark:bg-zinc-950/90 backdrop-blur-md border-b border-zinc-100 dark:border-zinc-800",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 md:px-6 h-14 flex items-center justify-between",children:[(0,b.jsx)(k.default,{}),o&&(0,b.jsxs)(f.default,{href:`/lists/${h}/edit`,className:"text-xs font-medium bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-3 py-1.5 rounded-md hover:opacity-90 flex items-center gap-1.5 transition-opacity",children:[(0,b.jsx)(i,{className:"w-3.5 h-3.5"}),"Edit"]})]})}),(0,b.jsx)("header",{className:"max-w-4xl mx-auto px-4 md:px-6 py-10 md:py-14 border-b border-zinc-100 dark:border-zinc-800/50",children:(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h1",{className:"text-2xl md:text-4xl font-bold tracking-tight text-zinc-900 dark:text-zinc-50",children:m.title}),m.description&&(0,b.jsx)("p",{className:"text-base md:text-lg text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-2xl font-serif",children:m.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.default,{href:`/profile/${m.creator?.username}`,className:"block w-8 h-8 md:w-10 md:h-10 rounded-full overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700",children:m.creator?.profile_pic_url?(0,b.jsx)(e.default,{src:m.creator.profile_pic_url,alt:m.creator.username||"User",width:40,height:40,className:"object-cover w-full h-full"}):(0,b.jsx)(j,{className:"w-full h-full text-zinc-300 dark:text-zinc-600 p-1"})}),(0,b.jsxs)("div",{className:"flex flex-col text-xs text-zinc-500",children:[(0,b.jsx)("span",{className:"block text-zinc-400",children:"Curated by"}),(0,b.jsx)(f.default,{href:`/profile/${m.creator?.username}`,className:"font-medium text-zinc-900 dark:text-zinc-200 hover:underline",children:m.creator?.username||"Unknown"})]}),(0,b.jsx)("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-2"}),(0,b.jsxs)("div",{className:"text-xs text-zinc-500 flex flex-col justify-center",children:[(0,b.jsx)("span",{className:"block text-zinc-400",children:"Updated"}),(0,b.jsx)("span",{className:"text-zinc-900 dark:text-zinc-200",children:new Date(m.updated_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]})]})}),(0,b.jsxs)("main",{className:"max-w-4xl mx-auto px-4 md:px-6 pb-24 pt-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-4",children:m.entries.map((a,c)=>{if(!a.media)return null;let d=(c+1).toString().padStart(2,"0");return(0,b.jsx)(f.default,{href:"movie"===a.media.type?`/discover/movie/${a.media.id}`:`/discover/tv/${a.media.id}`,className:"group block p-2 -mx-2 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-900/40 transition-colors",children:(0,b.jsxs)("div",{className:"grid grid-cols-[1.5rem_5rem_1fr] md:grid-cols-[3rem_7rem_1fr] gap-4 items-start",children:[(0,b.jsx)("div",{className:"pt-1 text-right font-mono text-sm md:text-base text-zinc-300 dark:text-zinc-700 group-hover:text-zinc-500 transition-colors",children:d}),(0,b.jsx)("div",{className:"relative aspect-[2/3] bg-zinc-100 dark:bg-zinc-800 shadow-sm border border-zinc-200 dark:border-zinc-800 rounded-sm overflow-hidden",children:a.media.poster_url&&(0,b.jsx)(e.default,{src:a.media.poster_url.startsWith("http")?a.media.poster_url:`https://image.tmdb.org/t/p/w300${a.media.poster_url}`,alt:a.media.title,fill:!0,sizes:"(max-width: 768px) 80px, 112px",className:"object-cover group-hover:scale-105 transition-transform duration-500 ease-out"})}),(0,b.jsxs)("div",{className:"flex flex-col min-w-0 pt-0.5",children:[(0,b.jsx)("h3",{className:"text-lg md:text-xl font-bold text-zinc-900 dark:text-zinc-100 leading-tight group-hover:underline decoration-zinc-300 underline-offset-4 decoration-2",children:a.media.title}),(0,b.jsx)("div",{className:"mt-0.5 text-xs md:text-sm font-mono text-zinc-500 dark:text-zinc-500",children:a.media.release_date?a.media.release_date.split("-")[0]:"TBA"}),a.note&&(0,b.jsx)("div",{className:"mt-2 text-sm text-zinc-600 dark:text-zinc-300 leading-snug border-l-2 border-zinc-200 dark:border-zinc-800 pl-3 py-0.5 line-clamp-3",children:a.note})]})]})},a.id)})}),(0,b.jsx)("div",{className:"mt-12 text-center",children:(0,b.jsx)("div",{className:"w-1 h-1 bg-zinc-300 dark:bg-zinc-700 rounded-full mx-auto"})})]})]})}a.s(["default",()=>l,"dynamic",0,"force-dynamic"],73006)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2fa2df0c._.js.map