module.exports=[31260,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(46344);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},34482,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},81498,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getDeploymentId:function(){return f},getDeploymentIdQueryOrEmptyString:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(){return!1}function g(){return""}},60466,(a,b,c)=>{"use strict";b.exports=a.r(26137).vendored["react-ssr"].ReactServerDOMTurbopackClient},12757,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},54417,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},74506,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(3988)._(a.r(46344)),g=a.r(54417),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},29404,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(46344),e=a.r(12757),f=a.r(74506);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},21170,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},62068,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(29404),g=a.r(21170),h=a.r(60466)},75042,a=>{a.v({className:"playwrite_nz_7c7e0e8a-module__uxbN8W__className"})},8284,a=>{a.v({className:"cal_sans_b8d0092a-module__fFraTG__className"})},58666,a=>{a.v({className:"josefin_sans_5c9a54e1-module__CWbBBW__className"})},91026,a=>{a.v({className:"google_sans_code_d5ef733d-module__uDO4jW__className"})},80317,a=>{a.v({className:"inter_7072b45a-module__Q56b1G__className"})},44362,a=>{a.v({className:"belanosima_769239ba-module__p7Ewxa__className"})},34969,a=>{a.v({className:"playfair_display_d5da27d2-module__Xmumea__className"})},71528,a=>{a.v({className:"geist_4a1dc683-module__R7DtgW__className",variable:"geist_4a1dc683-module__R7DtgW__variable"})},90966,a=>{a.v({className:"dm_serif_display_28987d94-module__nHmrBq__className",variable:"dm_serif_display_28987d94-module__nHmrBq__variable"})},2762,17195,96938,a=>{"use strict";var b=a.i(75042);let c={className:b.default.className,style:{fontFamily:"'Playwrite NZ', 'Playwrite NZ Fallback'",fontWeight:400,fontStyle:"normal"}};null!=b.default.variable&&(c.variable=b.default.variable),a.s(["default",0,c],17195);var d=a.i(8284);let e={className:d.default.className,style:{fontFamily:"'Cal Sans', system-ui, arial",fontWeight:400,fontStyle:"normal"}};null!=d.default.variable&&(e.variable=d.default.variable);var f=a.i(58666);let g={className:f.default.className,style:{fontFamily:"'Josefin Sans', system-ui, arial",fontWeight:400,fontStyle:"normal"}};null!=f.default.variable&&(g.variable=f.default.variable);var h=a.i(91026);let i={className:h.default.className,style:{fontFamily:"'Google Sans Code', system-ui, arial",fontWeight:400,fontStyle:"normal"}};null!=h.default.variable&&(i.variable=h.default.variable);var j=a.i(80317);let k={className:j.default.className,style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"}};null!=j.default.variable&&(k.variable=j.default.variable);var l=a.i(44362);let m={className:l.default.className,style:{fontFamily:"'Belanosima', 'Belanosima Fallback'",fontStyle:"normal"}};null!=l.default.variable&&(m.variable=l.default.variable);var n=a.i(34969);let o={className:n.default.className,style:{fontFamily:"'Playfair Display', 'Playfair Display Fallback'",fontStyle:"normal"}};null!=n.default.variable&&(o.variable=n.default.variable);var p=a.i(71528);let q={className:p.default.className,style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"}};null!=p.default.variable&&(q.variable=p.default.variable),a.s(["default",0,q],96938);var r=a.i(90966);let s={className:r.default.className,style:{fontFamily:"'DM Serif Display', 'DM Serif Display Fallback'",fontWeight:400,fontStyle:"normal"}};null!=r.default.variable&&(s.variable=r.default.variable),a.s([],2762)},55322,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});a.s(["ArrowLeftIcon",0,c],55322)},64681,a=>{"use strict";var b=a.i(17195);a.s(["PlayWriteNewZealandFont",()=>b.default])},29354,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});a.s(["ExclamationTriangleIcon",0,c],29354)},3618,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))});a.s(["LockClosedIcon",0,c],3618)},22971,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.s(["CheckCircleIcon",0,c],22971)},93291,a=>{"use strict";var b=a.i(72888),c=a.i(46344),d=a.i(65574),e=a.i(45189),f=a.i(31470),g=a.i(62068);let h=(0,g.createServerReference)("60ff4eeaba83819f4c10c4605d95c6ddbd3d58ff5b",g.callServer,void 0,g.findSourceMapURL,"updatePassword");var i=a.i(382);a.i(2762);var j=a.i(64681),k=a.i(55322),l=a.i(3618),m=a.i(22971),n=a.i(29354);function o(){let{pending:a}=(0,e.useFormStatus)();return(0,b.jsx)("button",{type:"submit",disabled:a,className:"flex w-full h-12 items-center justify-center bg-zinc-900 text-white text-sm font-bold hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.default,{className:"mr-2 h-4 w-4"}),"Updating..."]}):(0,b.jsx)("span",{children:"Update Password"})})}function p(){let[a,e]=(0,c.useActionState)(h,{message:null,errors:{},success:!1}),[g,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let{data:{subscription:a}}=(0,d.createClient)().auth.onAuthStateChange((a,b)=>{"PASSWORD_RECOVERY"===a?(p(!0),r(null)):"SIGNED_IN"===a&&null===b?(r("This password reset link is invalid or has expired."),p(!0)):"INITIAL_SESSION"===a&&p(!0)});return()=>a.unsubscribe()},[]),(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 relative font-sans",children:[(0,b.jsx)("div",{className:"hidden md:block absolute top-10 left-10 z-50",children:(0,b.jsxs)(f.default,{href:"/auth/login",className:"group flex items-center gap-2 text-sm font-medium text-zinc-500 transition-colors hover:text-zinc-900 dark:hover:text-zinc-100",children:[(0,b.jsx)(k.ArrowLeftIcon,{className:"w-4 h-4 transition-transform group-hover:-translate-x-1"}),"Back to Sign In"]})}),(0,b.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,b.jsx)("div",{className:"md:hidden mb-6",children:(0,b.jsxs)(f.default,{href:"/auth/login",className:"group inline-flex items-center gap-2 text-sm font-medium text-zinc-500 transition-colors hover:text-zinc-900 dark:hover:text-zinc-100",children:[(0,b.jsx)(k.ArrowLeftIcon,{className:"w-4 h-4 transition-transform group-hover:-translate-x-1"}),"Back"]})}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 shadow-sm md:shadow-2xl overflow-hidden min-h-[500px]",children:[(0,b.jsxs)("div",{className:"hidden md:flex flex-col items-center justify-center bg-zinc-950 text-white p-12 border-r border-zinc-200 dark:border-zinc-800 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,b.jsx)("div",{className:"absolute inset-0 bg-radial-gradient from-transparent to-black/80 opacity-90"}),(0,b.jsxs)("div",{className:"relative z-10 text-center space-y-8 max-w-sm",children:[(0,b.jsx)("div",{className:"mx-auto w-40 h-40 flex items-center justify-center rounded-full bg-white/5 border border-white/10 backdrop-blur-sm",children:(0,b.jsx)(l.LockClosedIcon,{className:"w-20 h-20 text-zinc-200"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:`${j.PlayWriteNewZealandFont.className} text-5xl font-bold text-white tracking-tight`,children:"Secure."}),(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-400 italic",children:'"Forging a new key for your archive."'})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,b.jsxs)("div",{className:"md:hidden relative bg-zinc-950 text-white py-12 px-6 text-center border-b border-zinc-800 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("div",{className:"mx-auto w-12 h-12 flex items-center justify-center rounded-full bg-white/10 mb-4 backdrop-blur-md",children:(0,b.jsx)(l.LockClosedIcon,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("h2",{className:`${j.PlayWriteNewZealandFont.className} text-3xl font-bold text-white mb-1`,children:"Secure."}),(0,b.jsx)("p",{className:"text-[10px] text-zinc-400 uppercase tracking-widest",children:"Update Credentials"})]})]}),(0,b.jsx)("div",{className:"p-8 md:p-12 lg:p-16 flex-1 flex flex-col justify-center",children:a.success?(0,b.jsxs)("div",{className:"text-center space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto",children:(0,b.jsx)(m.CheckCircleIcon,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 mb-2",children:"Success"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:a.message||"Your password has been updated."})]}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsx)(f.default,{href:"/auth/login",className:"inline-flex items-center justify-center w-full h-12 border border-zinc-200 dark:border-zinc-800 text-sm font-bold uppercase tracking-widest hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:"Return to Sign In"})})]}):g?q?(0,b.jsxs)("div",{className:"text-center space-y-6 animate-in fade-in duration-300",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/10 rounded-full flex items-center justify-center mx-auto",children:(0,b.jsx)(n.ExclamationTriangleIcon,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 mb-2",children:"Link Invalid"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:q})]}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsx)(f.default,{href:"/auth/forgot-password",className:"inline-flex items-center justify-center w-full h-12 bg-zinc-900 text-white text-sm font-bold uppercase tracking-widest hover:bg-zinc-800 dark:bg-white dark:text-black dark:hover:bg-zinc-200 transition-all",children:"Request New Link"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-8 text-center md:text-left",children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold tracking-tight mb-2",children:"Set New Password"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Please create a new, secure password."})]}),(0,b.jsxs)("form",{action:e,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"New Password"}),(0,b.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"••••••••",className:"block w-full h-12 border-b border-zinc-200 bg-transparent px-0 text-base placeholder:text-zinc-300 focus:border-zinc-900 focus:outline-none dark:border-zinc-800 dark:focus:border-zinc-100 transition-colors",required:!0}),a.errors?.password&&(0,b.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium animate-pulse",children:a.errors.password[0]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"Confirm New Password"}),(0,b.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"••••••••",className:"block w-full h-12 border-b border-zinc-200 bg-transparent px-0 text-base placeholder:text-zinc-300 focus:border-zinc-900 focus:outline-none dark:border-zinc-800 dark:focus:border-zinc-100 transition-colors",required:!0}),a.errors?.confirmPassword&&(0,b.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium animate-pulse",children:a.errors.confirmPassword[0]})]}),a.message&&!a.success&&(0,b.jsx)("div",{className:"p-3 bg-red-50 text-red-600 dark:bg-red-900/10 dark:text-red-400 text-xs font-medium border border-red-100 dark:border-red-900/20",children:a.message}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsx)(o,{})})]})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 py-12",children:[(0,b.jsx)(i.default,{className:"w-8 h-8 text-zinc-900 dark:text-white"}),(0,b.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500 animate-pulse",children:"Verifying Link..."})]})})]})]})]})]})}a.s(["default",()=>p],93291)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2308d100._.js.map