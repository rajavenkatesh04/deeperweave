module.exports=[19902,a=>{"use strict";var b=a.i(41063),c=a.i(38704),d=a.i(29024),e=a.i(82472),f=a.i(72273);let g=(0,c.cache)(async()=>{try{let a=await (0,d.createClient)(),{data:{user:b}}=await a.auth.getUser();if(!b)return{country:"US",content_preference:"sfw",countryName:"United States"};let{data:c}=await a.from("profiles").select("country, content_preference").eq("id",b.id).single(),f="US",g="United States";if(c?.country){let a=e.countries.find(a=>a.name===c.country);a&&(f=a["alpha-2"],g=a.name)}return{country:f,countryName:g,content_preference:c?.content_preference||"sfw"}}catch(a){return{country:"US",content_preference:"sfw",countryName:"United States"}}});function h(a){let b=new Date,c=new Date;return c.setDate(b.getDate()-a),{gte:c.toISOString().split("T")[0],lte:b.toISOString().split("T")[0]}}async function i(a,b={}){let c=process.env.TMDB_API_KEY;if(!c)return[];let d=null;a.includes("/movie")?d="movie":a.includes("/tv")&&(d="tv");let e=b.region,f=b.include_adult;if(!e||!f){let a=await g();e||(e=a.country),f||(f="all"===a.content_preference?"true":"false")}let h=new URLSearchParams({api_key:c,include_adult:f,region:e,watch_region:e,...b});try{let b=await fetch(`https://api.themoviedb.org/3${a}?${h.toString()}`,{next:{revalidate:3600}});if(!b.ok)return[];return(await b.json()).results.map(a=>((a,b=null)=>{let c=a.media_type||b;if("person"===c)return a.profile_path?{id:a.id,title:a.name||"Unknown",name:a.name,poster_path:a.profile_path,profile_path:a.profile_path,media_type:"person",department:a.known_for_department||"Artist",known_for_department:a.known_for_department}:null;if(!a.poster_path)return null;let d=a.title||a.name||"Unknown",e=a.release_date||a.first_air_date;return{id:a.id,title:d,name:a.name,release_date:e,poster_path:a.poster_path,profile_path:null,backdrop_path:a.backdrop_path,overview:a.overview,media_type:c||"movie",vote_count:a.vote_count,vote_average:a.vote_average}})(a,d)).filter(a=>null!==a).filter(a=>"person"===a.media_type||!!a.backdrop_path).slice(0,20)}catch(b){return console.error(`TMDB Network Error for ${a}:`,b),[]}}async function j(a){let b={page:(a.page||1).toString(),sort_by:a.sort_by||"popularity.desc","vote_count.gte":"5"};return a.region&&(b.region=a.region),a.region&&"tv"===a.type&&(b.watch_region=a.region),a.with_original_language&&(b.with_original_language=a.with_original_language),a.with_genres&&(b.with_genres=a.with_genres),a.year&&("movie"===a.type?b.primary_release_year=a.year.toString():b.first_air_date_year=a.year.toString()),a.release_date_gte&&("movie"===a.type?b["primary_release_date.gte"]=a.release_date_gte:b["first_air_date.gte"]=a.release_date_gte),a.release_date_lte&&("movie"===a.type?b["primary_release_date.lte"]=a.release_date_lte:b["first_air_date.lte"]=a.release_date_lte),"anime"===a.with_genres&&(b.with_genres="16",b.with_original_language="ja"),i(`/discover/${a.type}`,b)}async function k(){let{country:a,countryName:b}=await g(),c=[],d=h(60);if("IN"===a){let[a,b,e,f,g,k,l,m]=await Promise.all([j({type:"movie",sort_by:"release_date.desc",with_original_language:"hi",region:"IN",release_date_gte:d.gte,release_date_lte:d.lte}),j({type:"movie",sort_by:"release_date.desc",with_original_language:"te",region:"IN",release_date_gte:d.gte,release_date_lte:d.lte}),j({type:"movie",sort_by:"release_date.desc",with_original_language:"ta",region:"IN",release_date_gte:d.gte,release_date_lte:d.lte}),j({type:"movie",sort_by:"release_date.desc",with_original_language:"ml",region:"IN",release_date_gte:d.gte,release_date_lte:d.lte}),j({type:"movie",sort_by:"release_date.desc",with_original_language:"kn",region:"IN",release_date_gte:d.gte,release_date_lte:d.lte}),i("/trending/all/day",{region:"IN"}),j({type:"movie",sort_by:"vote_average.desc",region:"IN",release_date_gte:`${new Date().getFullYear()}-01-01`}),j({type:"movie",with_genres:"28",region:"IN",sort_by:"popularity.desc",release_date_gte:h(90).gte})]);c.push({title:"Trending in India",items:k,href:"/discover/trending"}),a.length>0&&c.push({title:"Just Released: Bollywood (Hindi)",items:a,href:"/discover/movies?lang=hi"}),b.length>0&&c.push({title:"Just Released: Tollywood (Telugu)",items:b,href:"/discover/movies?lang=te"}),e.length>0&&c.push({title:"Just Released: Kollywood (Tamil)",items:e,href:"/discover/movies?lang=ta"}),f.length>0&&c.push({title:"Just Released: Mollywood (Malayalam)",items:f,href:"/discover/movies?lang=ml"}),g.length>0&&c.push({title:"Just Released: Sandalwood (Kannada)",items:g,href:"/discover/movies?lang=kn"}),c.push({title:"High Octane Indian Action",items:m,href:"/discover/movies?genre=action"});let n=l.filter(a=>void 0!==a.vote_count&&a.vote_count>20).slice(0,10);n.length>0&&c.push({title:`Critically Acclaimed (${new Date().getFullYear()})`,items:n,href:"/discover/top-rated"})}else if("KR"===a){let[a,b]=await Promise.all([j({type:"movie",sort_by:"popularity.desc",with_original_language:"ko",region:"KR",release_date_gte:d.gte,release_date_lte:d.lte}),j({type:"tv",sort_by:"popularity.desc",with_original_language:"ko",region:"KR",release_date_gte:d.gte,release_date_lte:d.lte})]);c.push({title:"New Korean Movies",items:a,href:"/discover/movies"}),c.push({title:"Airing K-Dramas",items:b,href:"/discover/kdramas"})}else if("JP"===a){let[a,b]=await Promise.all([j({type:"tv",with_genres:"16",region:"JP",release_date_gte:d.gte,release_date_lte:d.lte}),j({type:"movie",with_original_language:"ja",region:"JP",release_date_gte:d.gte,release_date_lte:d.lte})]);c.push({title:"Airing Anime",items:a,href:"/discover/anime"}),c.push({title:"New Japanese Movies",items:b,href:"/discover/movies"})}else{let[d]=await Promise.all([i("/trending/all/day",{region:a})]);c.push({title:`Trending in ${b}`,items:d,href:"/discover/trending"})}return c}async function l(){let[a,b]=await Promise.all([i("/trending/movie/day"),i("/trending/tv/day")]),c=[],d=Math.min(a.length,b.length,5);for(let e=0;e<d;e++)c.push(a[e]),c.push(b[e]);return c}async function m(){return i("/trending/all/day",{language:"en-US"})}async function n(){return i("/movie/now_playing",{language:"en-US",page:"1"})}async function o(){return i("/tv/on_the_air",{language:"en-US",page:"1"})}async function p(){return j({type:"tv",with_genres:"anime"})}async function q(){return j({type:"tv",with_original_language:"ko"})}async function r(a){return a.trim().length<2?[]:i("/search/multi",{query:encodeURIComponent(a)})}(0,f.ensureServerEntryExports)([j,k,l,m,n,o,p,q,r]),(0,b.registerServerReference)(j,"405f1a1cef1f15ccb2f62b5c44253ae9e274fc3a07",null),(0,b.registerServerReference)(k,"007535f27366154fc5e385b4c227c0f67fc7b83502",null),(0,b.registerServerReference)(l,"005bbb2aaa1368743e178d55de24e563902643c885",null),(0,b.registerServerReference)(m,"00948a855de8e612e38e58d8aeaeaf83628f36a47e",null),(0,b.registerServerReference)(n,"00e833a818db2b8ffb1e6905ee4788bd7664bd0afb",null),(0,b.registerServerReference)(o,"0063dcc5c45627bd1076a961bd7748060dc8190042",null),(0,b.registerServerReference)(p,"00e5f11822f9d1b7f7abf171c4b31c12c7ab929282",null),(0,b.registerServerReference)(q,"003e44766946ed2d9b635c521ccbe9ac1f9bff9797",null),(0,b.registerServerReference)(r,"4098ca1fff29b0c945a2849d7a526c784388842ed9",null),a.s(["discoverMedia",()=>j,"getDiscoverAnime",()=>p,"getDiscoverKdramas",()=>q,"getPopularMovies",()=>n,"getPopularTv",()=>o,"getRegionalDiscoverSections",()=>k,"getTrendingAll",()=>m,"getTrendingHero",()=>l,"searchCinematic",()=>r])},97625,a=>{"use strict";var b=a.i(76181),c=a.i(58139),d=a.i(19902);a.s([],90071),a.i(90071),a.s(["003e44766946ed2d9b635c521ccbe9ac1f9bff9797",()=>d.getDiscoverKdramas,"005bbb2aaa1368743e178d55de24e563902643c885",()=>d.getTrendingHero,"0063dcc5c45627bd1076a961bd7748060dc8190042",()=>d.getPopularTv,"00683e089f24bf051dde09a3a6d87c7845379672d7",()=>b.getProfileForEdit,"007535f27366154fc5e385b4c227c0f67fc7b83502",()=>d.getRegionalDiscoverSections,"00948a855de8e612e38e58d8aeaeaf83628f36a47e",()=>d.getTrendingAll,"00a5e44efe8453720c80c4486c1d17d72add854a24",()=>c.logout,"00d0567cd8df0fc447dd1e815c2ddf184f0c18128e",()=>b.getUserProfile,"00e5f11822f9d1b7f7abf171c4b31c12c7ab929282",()=>d.getDiscoverAnime,"00e833a818db2b8ffb1e6905ee4788bd7664bd0afb",()=>d.getPopularMovies,"400bcb2c36f7c47e3731ae06dffd2224b3a2699e1e",()=>b.getFollowRequests,"4014fbfdff9342dd0c42b9ff583a3342422dc0f22a",()=>b.getProfileByUsername,"401f2c77db66442cf38ce5a83c458e601f1c7b05c7",()=>b.getProfileAndFollowStatus,"402c60c195c27d7e4ee6875efa618185b1ac3231fb",()=>b.getFollowers,"4047dd0ce88f4279733a1b257efef3eef9f46b98fe",()=>b.checkProfileCompletion,"405f1a1cef1f15ccb2f62b5c44253ae9e274fc3a07",()=>d.discoverMedia,"4098ca1fff29b0c945a2849d7a526c784388842ed9",()=>d.searchCinematic,"40bf4c0ef6c82b5f8fcdc9b4949d7d08040b4dd7de",()=>b.getFollowing,"40cfbf6bd851b4c3c77831a2af2103b1bc31d65c9f",()=>b.getProfileData,"40cfe719a5adbe13aa2b30a3a28352a6402447f1e9",()=>b.getPodiumData,"60c2b24991e2dd0ce0aa7dddb015e6a9b621b2c5e6",()=>b.checkFollowStatus],97625)}];

//# sourceMappingURL=_98787164._.js.map