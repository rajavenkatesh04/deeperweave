module.exports=[32179,a=>{"use strict";let b;var c=a.i(28015),d=a.i(18697),e=a.i(12092),f=a.i(28854),g=a.i(49407),h=a.i(90830),i=a.i(53017),j=class extends f.Subscribable{constructor(a,b){super(),this.options=b,this.#a=a,this.#b=null,this.#c=(0,g.pendingThenable)(),this.bindMethods(),this.setOptions(b)}#a;#d=void 0;#e=void 0;#f=void 0;#g;#h;#c;#b;#i;#j;#k;#l;#m;#n;#o=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#d.addObserver(this),k(this.#d,this.options)?this.#p():this.updateResult(),this.#q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l(this.#d,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l(this.#d,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#r(),this.#s(),this.#d.removeObserver(this)}setOptions(a){let b=this.options,c=this.#d;if(this.options=this.#a.defaultQueryOptions(a),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,h.resolveEnabled)(this.options.enabled,this.#d))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#t(),this.#d.setOptions(this.options),b._defaulted&&!(0,h.shallowEqualObjects)(this.options,b)&&this.#a.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#d,observer:this});let d=this.hasListeners();d&&m(this.#d,c,this.options,b)&&this.#p(),this.updateResult(),d&&(this.#d!==c||(0,h.resolveEnabled)(this.options.enabled,this.#d)!==(0,h.resolveEnabled)(b.enabled,this.#d)||(0,h.resolveStaleTime)(this.options.staleTime,this.#d)!==(0,h.resolveStaleTime)(b.staleTime,this.#d))&&this.#u();let e=this.#v();d&&(this.#d!==c||(0,h.resolveEnabled)(this.options.enabled,this.#d)!==(0,h.resolveEnabled)(b.enabled,this.#d)||e!==this.#n)&&this.#w(e)}getOptimisticResult(a){var b,c;let d=this.#a.getQueryCache().build(this.#a,a),e=this.createResult(d,a);return b=this,c=e,(0,h.shallowEqualObjects)(b.getCurrentResult(),c)||(this.#f=e,this.#h=this.options,this.#g=this.#d.state),e}getCurrentResult(){return this.#f}trackResult(a,b){return new Proxy(a,{get:(a,c)=>(this.trackProp(c),b?.(c),"promise"===c&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#c.status||this.#c.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,c))})}trackProp(a){this.#o.add(a)}getCurrentQuery(){return this.#d}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){let b=this.#a.defaultQueryOptions(a),c=this.#a.getQueryCache().build(this.#a,b);return c.fetch().then(()=>this.createResult(c,b))}fetch(a){return this.#p({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#f))}#p(a){this.#t();let b=this.#d.fetch(this.options,a);return a?.throwOnError||(b=b.catch(h.noop)),b}#u(){this.#r();let a=(0,h.resolveStaleTime)(this.options.staleTime,this.#d);if(h.isServer||this.#f.isStale||!(0,h.isValidTimeout)(a))return;let b=(0,h.timeUntilStale)(this.#f.dataUpdatedAt,a);this.#l=i.timeoutManager.setTimeout(()=>{this.#f.isStale||this.updateResult()},b+1)}#v(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#d):this.options.refetchInterval)??!1}#w(a){this.#s(),this.#n=a,!h.isServer&&!1!==(0,h.resolveEnabled)(this.options.enabled,this.#d)&&(0,h.isValidTimeout)(this.#n)&&0!==this.#n&&(this.#m=i.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||c.focusManager.isFocused())&&this.#p()},this.#n))}#q(){this.#u(),this.#w(this.#v())}#r(){this.#l&&(i.timeoutManager.clearTimeout(this.#l),this.#l=void 0)}#s(){this.#m&&(i.timeoutManager.clearInterval(this.#m),this.#m=void 0)}createResult(a,b){let c,d=this.#d,f=this.options,i=this.#f,j=this.#g,l=this.#h,o=a!==d?a.state:this.#e,{state:p}=a,q={...p},r=!1;if(b._optimisticResults){let c=this.hasListeners(),g=!c&&k(a,b),h=c&&m(a,d,b,f);(g||h)&&(q={...q,...(0,e.fetchState)(p.data,a.options)}),"isRestoring"===b._optimisticResults&&(q.fetchStatus="idle")}let{error:s,errorUpdatedAt:t,status:u}=q;c=q.data;let v=!1;if(void 0!==b.placeholderData&&void 0===c&&"pending"===u){let a;i?.isPlaceholderData&&b.placeholderData===l?.placeholderData?(a=i.data,v=!0):a="function"==typeof b.placeholderData?b.placeholderData(this.#k?.state.data,this.#k):b.placeholderData,void 0!==a&&(u="success",c=(0,h.replaceData)(i?.data,a,b),r=!0)}if(b.select&&void 0!==c&&!v)if(i&&c===j?.data&&b.select===this.#i)c=this.#j;else try{this.#i=b.select,c=b.select(c),c=(0,h.replaceData)(i?.data,c,b),this.#j=c,this.#b=null}catch(a){this.#b=a}this.#b&&(s=this.#b,c=this.#j,t=Date.now(),u="error");let w="fetching"===q.fetchStatus,x="pending"===u,y="error"===u,z=x&&w,A=void 0!==c,B={status:u,fetchStatus:q.fetchStatus,isPending:x,isSuccess:"success"===u,isError:y,isInitialLoading:z,isLoading:z,data:c,dataUpdatedAt:q.dataUpdatedAt,error:s,errorUpdatedAt:t,failureCount:q.fetchFailureCount,failureReason:q.fetchFailureReason,errorUpdateCount:q.errorUpdateCount,isFetched:q.dataUpdateCount>0||q.errorUpdateCount>0,isFetchedAfterMount:q.dataUpdateCount>o.dataUpdateCount||q.errorUpdateCount>o.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:y&&!A,isPaused:"paused"===q.fetchStatus,isPlaceholderData:r,isRefetchError:y&&A,isStale:n(a,b),refetch:this.refetch,promise:this.#c,isEnabled:!1!==(0,h.resolveEnabled)(b.enabled,a)};if(this.options.experimental_prefetchInRender){let b=void 0!==B.data,c="error"===B.status&&!b,e=a=>{c?a.reject(B.error):b&&a.resolve(B.data)},f=()=>{e(this.#c=B.promise=(0,g.pendingThenable)())},h=this.#c;switch(h.status){case"pending":a.queryHash===d.queryHash&&e(h);break;case"fulfilled":(c||B.data!==h.value)&&f();break;case"rejected":c&&B.error===h.reason||f()}}return B}updateResult(){let a=this.#f,b=this.createResult(this.#d,this.options);if(this.#g=this.#d.state,this.#h=this.options,void 0!==this.#g.data&&(this.#k=this.#d),(0,h.shallowEqualObjects)(b,a))return;this.#f=b;let c=()=>{if(!a)return!0;let{notifyOnChangeProps:b}=this.options,c="function"==typeof b?b():b;if("all"===c||!c&&!this.#o.size)return!0;let d=new Set(c??this.#o);return this.options.throwOnError&&d.add("error"),Object.keys(this.#f).some(b=>this.#f[b]!==a[b]&&d.has(b))};this.#x({listeners:c()})}#t(){let a=this.#a.getQueryCache().build(this.#a,this.options);if(a===this.#d)return;let b=this.#d;this.#d=a,this.#e=a.state,this.hasListeners()&&(b?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#q()}#x(a){d.notifyManager.batch(()=>{a.listeners&&this.listeners.forEach(a=>{a(this.#f)}),this.#a.getQueryCache().notify({query:this.#d,type:"observerResultsUpdated"})})}};function k(a,b){return!1!==(0,h.resolveEnabled)(b.enabled,a)&&void 0===a.state.data&&("error"!==a.state.status||!1!==b.retryOnMount)||void 0!==a.state.data&&l(a,b,b.refetchOnMount)}function l(a,b,c){if(!1!==(0,h.resolveEnabled)(b.enabled,a)&&"static"!==(0,h.resolveStaleTime)(b.staleTime,a)){let d="function"==typeof c?c(a):c;return"always"===d||!1!==d&&n(a,b)}return!1}function m(a,b,c,d){return(a!==b||!1===(0,h.resolveEnabled)(d.enabled,a))&&(!c.suspense||"error"!==a.state.status)&&n(a,c)}function n(a,b){return!1!==(0,h.resolveEnabled)(b.enabled,a)&&a.isStaleByTime((0,h.resolveStaleTime)(b.staleTime,a))}var o=a.i(46344),p=a.i(58298);a.i(72888);var q=o.createContext((b=!1,{clearReset:()=>{b=!1},reset:()=>{b=!0},isReset:()=>b})),r=o.createContext(!1);r.Provider;var s=(a,b,c)=>b.fetchOptimistic(a).catch(()=>{c.clearReset()});function t(a,b){return function(a,b,c){let e,f=o.useContext(r),g=o.useContext(q),i=(0,p.useQueryClient)(c),j=i.defaultQueryOptions(a);i.getDefaultOptions().queries?._experimental_beforeQuery?.(j);let k=i.getQueryCache().get(j.queryHash);if(j._optimisticResults=f?"isRestoring":"optimistic",j.suspense){let a=a=>"static"===a?a:Math.max(a??1e3,1e3),b=j.staleTime;j.staleTime="function"==typeof b?(...c)=>a(b(...c)):a(b),"number"==typeof j.gcTime&&(j.gcTime=Math.max(j.gcTime,1e3))}e=k?.state.error&&"function"==typeof j.throwOnError?(0,h.shouldThrowError)(j.throwOnError,[k.state.error,k]):j.throwOnError,(j.suspense||j.experimental_prefetchInRender||e)&&!g.isReset()&&(j.retryOnMount=!1),o.useEffect(()=>{g.clearReset()},[g]);let l=!i.getQueryCache().get(j.queryHash),[m]=o.useState(()=>new b(i,j)),n=m.getOptimisticResult(j),t=!f&&!1!==a.subscribed;if(o.useSyncExternalStore(o.useCallback(a=>{let b=t?m.subscribe(d.notifyManager.batchCalls(a)):h.noop;return m.updateResult(),b},[m,t]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),o.useEffect(()=>{m.setOptions(j)},[j,m]),j?.suspense&&n.isPending)throw s(j,m,g);if((({result:a,errorResetBoundary:b,throwOnError:c,query:d,suspense:e})=>a.isError&&!b.isReset()&&!a.isFetching&&d&&(e&&void 0===a.data||(0,h.shouldThrowError)(c,[a.error,d])))({result:n,errorResetBoundary:g,throwOnError:j.throwOnError,query:k,suspense:j.suspense}))throw n.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(j,n),j.experimental_prefetchInRender&&!h.isServer&&n.isLoading&&n.isFetching&&!f){let a=l?s(j,m,g):k?.promise;a?.catch(h.noop).finally(()=>{m.updateResult()})}return j.notifyOnChangeProps?n:m.trackResult(n)}(a,j,b)}a.s(["useQuery",()=>t],32179)},14591,a=>{"use strict";var b=a.i(72888),c=a.i(46344),d=a.i(81159),e=a.i(31470),f=a.i(27265),g=a.i(93022),h=a.i(93193),i=a.i(30276),j=a.i(61185),k=a.i(83581),l=a.i(5916),m=a.i(82827),n=a.i(88270),o=a.i(90212),p=a.i(382);function q({tmdbId:a,initialData:q,mediaType:r,isOpen:s,onClose:t}){let u=void 0!==s&&void 0!==t,[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useTransition)(),B=u?s:v;(0,c.useEffect)(()=>{B&&!x&&A(async()=>{try{if("movie"===r){let b=await (0,f.getMovieDetails)(a);y(b)}else if("tv"===r){let b=await (0,g.getSeriesDetails)(a);y(b)}else if("person"===r){let b=await (0,h.getPersonDetails)(a);y(b)}}catch(a){console.error("Failed to fetch details:",a)}})},[B,a,r,x]);let C=()=>{u&&t?t():w(!1)},D={...q,...x},E=x?.backdrop_path||D.backdrop_url,F=E?.startsWith("http")?E:E?`https://image.tmdb.org/t/p/original${E}`:D.poster_url,G="person"===r?`/discover/actor/${a}`:`/discover/${r}/${a}`,H="person"===r?D.biography||"No biography available.":D.overview||"No synopsis available.",I=(()=>{switch(r){case"movie":return{icon:j.FilmIcon,label:"Movie"};case"tv":return{icon:k.TvIcon,label:"Series"};case"person":return{icon:n.UserIcon,label:"Star"}}})();return(0,b.jsx)(b.Fragment,{children:B&&(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:C,children:(0,b.jsxs)("div",{className:"relative w-full max-w-lg overflow-hidden rounded-3xl bg-white dark:bg-zinc-900 shadow-2xl ring-1 ring-zinc-200 dark:ring-white/10 animate-in zoom-in-95 duration-300",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"relative h-48 sm:h-56 w-full bg-zinc-200 dark:bg-zinc-800",children:[(0,b.jsx)(d.default,{src:F||"/placeholder-backdrop.jpg",alt:"Backdrop",fill:!0,className:"object-cover opacity-60",unoptimized:!0}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/40 to-transparent dark:from-zinc-900 dark:via-zinc-900/40"}),(0,b.jsx)("button",{onClick:C,className:"absolute top-4 right-4 p-2 rounded-full bg-black/40 text-white hover:bg-black/60 backdrop-blur-md transition-colors z-10",children:(0,b.jsx)(i.XMarkIcon,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,b.jsxs)("span",{className:`
                                    inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide backdrop-blur-md border shadow-sm
                                    ${"movie"===r?"bg-blue-500/90 text-white border-blue-400/50 dark:bg-blue-500/20 dark:text-blue-100 dark:border-blue-500/30":""}
                                    ${"tv"===r?"bg-green-500/90 text-white border-green-400/50 dark:bg-green-500/20 dark:text-green-100 dark:border-green-500/30":""}
                                    ${"person"===r?"bg-purple-500/90 text-white border-purple-400/50 dark:bg-purple-500/20 dark:text-purple-100 dark:border-purple-500/30":""}
                                `,children:[(0,b.jsx)(I.icon,{className:"w-3 h-3"}),I.label]})})]}),(0,b.jsxs)("div",{className:"relative px-6 pb-6 -mt-12 flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"shrink-0 relative w-24 h-36 rounded-lg overflow-hidden shadow-2xl ring-4 ring-white dark:ring-zinc-800 bg-zinc-200 dark:bg-zinc-800",children:(0,b.jsx)(d.default,{src:D.poster_url||"/placeholder.jpg",alt:"Poster",fill:!0,className:"object-cover",unoptimized:!0})}),(0,b.jsxs)("div",{className:"flex-1 pt-14",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white leading-tight mb-1 line-clamp-2",children:D.title}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,b.jsx)("span",{children:D.release_date||D.birthday||("person"===r?"Unknown":"")}),D.vote_average&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"w-1 h-1 rounded-full bg-zinc-400 dark:bg-zinc-600"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-amber-500 dark:text-yellow-500 font-bold",children:[(0,b.jsx)(m.StarIcon,{className:"w-3.5 h-3.5"}),D.vote_average.toFixed(1)]})]}),D.number_of_seasons&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"w-1 h-1 rounded-full bg-zinc-400 dark:bg-zinc-600"}),(0,b.jsxs)("span",{children:[D.number_of_seasons," Seasons"]})]}),"person"===r&&D.known_for_department&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"w-1 h-1 rounded-full bg-zinc-400 dark:bg-zinc-600"}),(0,b.jsx)("span",{className:"text-zinc-600 dark:text-zinc-300",children:D.known_for_department})]})]}),"person"===r&&D.place_of_birth&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-zinc-500 mt-1",children:[(0,b.jsx)(o.MapPinIcon,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"truncate",children:D.place_of_birth})]})]})]}),(0,b.jsx)("div",{className:"min-h-[80px]",children:z?(0,b.jsx)("div",{className:"flex justify-center py-4",children:(0,b.jsx)(p.default,{})}):(0,b.jsx)("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 leading-relaxed line-clamp-3 whitespace-pre-line",children:H})}),!z&&"person"!==r&&D.genres&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[D.genres.slice(0,3).map(a=>(0,b.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-md bg-zinc-100 border border-zinc-200 text-zinc-600 dark:bg-white/5 dark:border-white/5 dark:text-zinc-300",children:a.name},a.id)),D.genres.length>3&&(0,b.jsxs)("span",{className:"text-xs px-2.5 py-1 text-zinc-500",children:["+",D.genres.length-3]})]}),(0,b.jsx)("div",{className:"mt-2 pt-4 border-t border-zinc-100 dark:border-white/5",children:(0,b.jsxs)(e.default,{href:G,className:"group w-full flex items-center justify-center gap-2 bg-zinc-900 text-white dark:bg-white dark:text-black font-bold py-3.5 rounded-xl hover:bg-zinc-700 dark:hover:bg-indigo-500 dark:hover:text-white transition-all duration-300",children:[(0,b.jsx)("span",{children:"person"===r?"Full Profile & Filmography":"Full Details & Cast"}),(0,b.jsx)(l.ArrowRightIcon,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})})}a.s(["default",()=>q])},93193,a=>{"use strict";var b=a.i(62068);let c=(0,b.createServerReference)("401eedccfe768d7030b1d49e8f092b2f44eaa41678",b.callServer,void 0,b.findSourceMapURL,"getPersonDetails");a.s(["getPersonDetails",()=>c])},83581,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{d:"M19.5 6h-15v9h15V6Z"}),b.createElement("path",{fillRule:"evenodd",d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v11.25C1.5 17.16 2.34 18 3.375 18H9.75v1.5H6A.75.75 0 0 0 6 21h12a.75.75 0 0 0 0-1.5h-3.75V18h6.375c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.839 21.66 3 20.625 3H3.375Zm0 13.5h17.25a.375.375 0 0 0 .375-.375V4.875a.375.375 0 0 0-.375-.375H3.375A.375.375 0 0 0 3 4.875v11.25c0 .207.168.375.375.375Z",clipRule:"evenodd"}))});a.s(["TvIcon",0,c],83581)},5916,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});a.s(["ArrowRightIcon",0,c],5916)},88270,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))});a.s(["UserIcon",0,c],88270)},90212,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))});a.s(["MapPinIcon",0,c],90212)},30276,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});a.s(["XMarkIcon",0,c],30276)},61185,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))});a.s(["FilmIcon",0,c],61185)},82827,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});a.s(["StarIcon",0,c],82827)},27265,a=>{"use strict";var b=a.i(62068);let c=(0,b.createServerReference)("402603549cdfd9882438516ae21e193481ebd6860c",b.callServer,void 0,b.findSourceMapURL,"getMovieDetails");a.s(["getMovieDetails",()=>c])},93022,a=>{"use strict";var b=a.i(62068);let c=(0,b.createServerReference)("40a5cd89d9bb290a544cbc62c297de5defda4be1ab",b.callServer,void 0,b.findSourceMapURL,"getSeriesDetails");a.s(["getSeriesDetails",()=>c])},34030,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{d:"M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z"}),b.createElement("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z"}),b.createElement("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z"}))});a.s(["EyeSlashIcon",0,c],34030)},67057,a=>{"use strict";var b=a.i(72888),c=a.i(46344),d=a.i(34030);function e({children:a,isAdult:e,isSFW:f}){let[g,h]=(0,c.useState)(!1);return e&&f&&!g?(0,b.jsxs)("div",{className:"relative w-full h-full overflow-hidden rounded-md group",children:[(0,b.jsx)("div",{className:"blur-xl opacity-50 pointer-events-none select-none grayscale transition-opacity duration-500","aria-hidden":"true",children:a}),(0,b.jsxs)("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center p-4 text-center backdrop-blur-md transition-colors   bg-zinc-100/80 dark:bg-black/80   hover:bg-zinc-200/90 dark:hover:bg-black/90",children:[(0,b.jsx)(d.EyeSlashIcon,{className:"w-8 h-8 mb-2 text-zinc-500 dark:text-zinc-400"}),(0,b.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider mb-3 text-zinc-700 dark:text-zinc-300",children:"Explicit Content"}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),h(!0)},className:"px-4 py-1.5 text-xs font-bold rounded-full transition-transform active:scale-95 shadow-sm   bg-zinc-900 text-white hover:bg-zinc-700   dark:bg-white dark:text-black dark:hover:bg-zinc-200",children:"Show Anyway"})]})]}):(0,b.jsx)(b.Fragment,{children:a})}a.s(["default",()=>e])},56884,a=>{"use strict";var b=a.i(72888),c=a.i(46344),d=a.i(31470),e=a.i(32179),f=a.i(65574);let g=async a=>{let b=(0,f.createClient)(),{data:c,error:d}=await b.from("profile_sections").select(`
            *,
            user:profiles!inner(username),
            items:section_items(
                *,
                movie:movies(*),
                series:series(*),
                person:people(*)
            )
        `).eq("user.username",a).order("rank",{ascending:!0});if(d)throw d;return c};var h=a.i(17172),i=a.i(81159),j=a.i(14591);function k({item:a,rank:d}){let[e,f]=(0,c.useState)(!1),g="person"===a.type,k="movie"===a.type,l=a.tmdbId?Number(a.tmdbId):Number(a.id),m=`${a.subtitle} â€¢ ${k?"Film":g?"Star":"TV"}`,n={tmdb_id:l||0,title:a.title,release_date:a.subtitle,poster_url:a.image_url,backdrop_url:a.image_url},o=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative aspect-[2/3] w-full rounded-sm overflow-hidden bg-zinc-100 dark:bg-zinc-900 shadow-sm transition-all duration-500 group-hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.3)] dark:group-hover:shadow-[0_20px_40px_-15px_rgba(255,255,255,0.1)]",children:[(0,b.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,b.jsx)("div",{className:"flex items-center justify-center w-6 h-6 md:w-7 md:h-7 rounded-full bg-white/90 dark:bg-black/60 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-sm",children:(0,b.jsxs)("span",{className:"font-mono text-[10px] md:text-[11px] font-bold text-zinc-900 dark:text-zinc-100",children:["#",d]})})}),a.image_url?(0,b.jsx)(i.default,{src:a.image_url,alt:a.title,fill:!0,className:"object-cover transition-transform duration-700 ease-out group-hover:scale-105",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 25vw, 300px"}):(0,b.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center text-zinc-400 bg-zinc-50 dark:bg-zinc-900",children:(0,b.jsx)("span",{className:"text-[9px] uppercase font-bold tracking-widest opacity-50",children:"No Image"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 dark:group-hover:bg-white/5 transition-colors duration-300"}),(0,b.jsx)("div",{className:"absolute inset-0 border border-black/5 dark:border-white/10 rounded-sm pointer-events-none"})]}),(0,b.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,b.jsx)("h3",{className:"text-sm md:text-[15px] font-bold leading-tight text-zinc-900 dark:text-zinc-100 line-clamp-1 group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors",children:a.title}),(0,b.jsx)("p",{className:"text-[11px] md:text-xs font-medium text-zinc-500 dark:text-zinc-400 truncate",children:m})]})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.motion.div,{className:"group relative w-full md:max-w-[280px] mx-auto flex-shrink-0 z-0 hover:z-20",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.4},children:(0,b.jsx)("div",{onClick:()=>{console.log("Opening Card. TMDB ID:",l,"Original Item:",a),f(!0)},className:"block w-full cursor-pointer",children:o})}),(0,b.jsx)(j.default,{tmdbId:isNaN(l)?0:l,mediaType:a.type,initialData:n,isOpen:e,onClose:()=>f(!1)})]})}var l=a.i(67057),m=a.i(98152),n=a.i(16365),o=a.i(30979);function p({username:a,isOwnProfile:h}){let{data:i,isLoading:j}=(0,e.useQuery)({queryKey:["profile-home",a],queryFn:()=>g(a),staleTime:6e5}),[p,q]=(0,c.useState)(!0),r=(0,c.useRef)(null);(0,c.useEffect)(()=>{(async()=>{let a=(0,f.createClient)(),{data:{user:b}}=await a.auth.getUser();q("sfw"===(b?.user_metadata?.content_preference||"sfw"))})()},[]);let s=(0,c.useCallback)(async()=>{if(r.current)try{let b=await (0,o.toPng)(r.current,{cacheBust:!0,pixelRatio:2,backgroundColor:"#09090b",style:{padding:"40px",borderRadius:"12px"}}),c=document.createElement("a");c.download=`${a}-podium.png`,c.href=b,c.click()}catch(a){console.error("Oops, something went wrong!",a)}},[a]);return j?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,b.jsx)(n.PodiumSkeleton,{}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm",children:"Loading Podium..."})]}):i&&0!==i.length?(0,b.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,b.jsx)("div",{className:"flex justify-end px-4 md:px-0",children:(0,b.jsxs)("button",{onClick:s,className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:[(0,b.jsx)(m.MdShare,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Share Snapshot"})]})}),(0,b.jsx)("div",{ref:r,className:"flex flex-col gap-18 md:gap-32 bg-white dark:bg-black md:p-8 rounded-xl",children:i.map((a,c)=>(0,b.jsxs)("section",{className:"max-w-5xl mx-auto md:px-8 w-full",children:[(0,b.jsx)("div",{className:"mb-10 md:mb-12",children:(0,b.jsxs)("div",{className:"flex items-baseline gap-4 md:gap-8",children:[(0,b.jsx)("div",{className:"flex flex-col w-full",children:(0,b.jsxs)("div",{className:"flex items-center gap-6 w-full",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-5xl lg:text-6xl font-thin font-semibold tracking-tight text-zinc-900 dark:text-zinc-100 leading-tight",children:a.title}),(0,b.jsx)("div",{className:"flex-grow h-px bg-zinc-300/60 dark:bg-zinc-700/60 mt-4"})]})}),(0,b.jsx)("span",{className:"text-5xl md:text-8xl font-black tracking-tighter opacity-30 select-none leading-none",children:String(c+1).padStart(2,"0")})]})}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2.5 md:gap-8 lg:gap-10 justify-items-center",children:a.items.map(a=>{var c;let d,e,f,g=(d=(c=a).item_type,(f=Array.isArray(e=c.movie||c.series||c.person)?e[0]:e)?{id:c.id,tmdbId:f.tmdb_id,title:f.title||f.name,image_url:f.poster_url||f.profile_path?`https://image.tmdb.org/t/p/w500${f.poster_url||f.profile_path}`:null,subtitle:"person"===d?f.known_for_department:f.release_date?new Date(f.release_date).getFullYear().toString():"",type:d,adult:!0===f.adult}:null);return g?(0,b.jsxs)("div",{className:"w-full relative group/card",children:[(0,b.jsx)(l.default,{isAdult:g.adult,isSFW:p,children:(0,b.jsx)(k,{item:g,rank:a.rank})}),g.adult&&(0,b.jsx)("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-red-600 shadow-sm pointer-events-none z-20 opacity-50"})]},a.id):null})})]},a.id))})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900/50 rounded-full mb-6 border border-zinc-100 dark:border-zinc-800",children:h?(0,b.jsx)(m.MdOutlineLeaderboard,{className:"w-8 h-8 text-zinc-400"}):(0,b.jsx)(m.MdOutlineSentimentDissatisfied,{className:"w-8 h-8 text-zinc-400"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:h?"The Podium is Empty":"No Ranks Yet"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 max-w-sm mb-8 leading-relaxed",children:h?"Start building your personal hall of fame. Add movies, shows, or people to showcase your taste.":`${a} hasn't added any sections to their podium yet.`}),h&&(0,b.jsxs)(d.default,{href:"/profile/edit",className:"group flex items-center gap-2 px-6 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-full text-sm font-bold transition-all hover:bg-zinc-800 dark:hover:bg-white hover:scale-105",children:[(0,b.jsx)(m.MdAdd,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Customize Podium"})]})]})}a.s(["default",()=>p],56884)}];

//# sourceMappingURL=_70bf613b._.js.map