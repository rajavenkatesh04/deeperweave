module.exports=[82827,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});a.s(["StarIcon",0,c],82827)},24716,17618,60533,a=>{"use strict";var b=a.i(62068);let c=(0,b.createServerReference)("40caf8e6eb284073880d186f232af97efac0fe1041",b.callServer,void 0,b.findSourceMapURL,"uploadBanner");a.s(["uploadBanner",()=>c],24716);var d=a.i(72888),e=a.i(39337),f=a.i(31470);function g({breadcrumbs:a}){return(0,d.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-6 block",children:(0,d.jsx)("ol",{className:"flex items-center flex-wrap",children:a.map((b,c)=>(0,d.jsxs)("li",{"aria-current":b.active?"page":void 0,className:"flex items-center",children:[(0,d.jsx)(f.default,{href:b.href,className:(0,e.clsx)("font-mono text-[10px] md:text-xs uppercase tracking-[0.15em] transition-all duration-200",b.active?"text-zinc-900 dark:text-zinc-100 font-bold border-b-2 border-zinc-900 dark:border-zinc-100":"text-zinc-400 hover:text-zinc-900 dark:text-zinc-600 dark:hover:text-zinc-300 no-underline"),children:b.label}),c<a.length-1?(0,d.jsx)("span",{className:"mx-3 text-zinc-300 dark:text-zinc-800 font-mono text-[10px] select-none",children:"/"}):null]},b.href))})})}a.s(["default",()=>g],17618);var h=a.i(46344);let i=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))});a.s(["XCircleIcon",0,i],60533)},81696,a=>{"use strict";var b=a.i(72888),c=a.i(46344),d=a.i(62068);let e=(0,d.createServerReference)("609ee5f20023be9a1cc338f7e049fb83021701fcc7",d.callServer,void 0,d.findSourceMapURL,"updatePost");var f=a.i(24716),g=a.i(17618),h=a.i(60533);let i=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6 6 0 0 0-5.98 6.496A5.25 5.25 0 0 0 6.75 20.25H18a4.5 4.5 0 0 0 2.206-8.423 3.75 3.75 0 0 0-4.133-4.303A6.001 6.001 0 0 0 10.5 3.75Zm2.03 5.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72v4.94a.75.75 0 0 0 1.5 0v-4.94l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z",clipRule:"evenodd"}))});var j=a.i(82827),k=a.i(382),l=a.i(81159),m=a.i(55029),n=a.i(39337),o=a.i(45189);function p({label:a,isEnabled:c,setIsEnabled:d,name:e}){return(0,b.jsxs)("label",{htmlFor:e,className:"flex items-center justify-between cursor-pointer",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-zinc-200",children:a}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:e,name:e,type:"checkbox",className:"sr-only",checked:c,onChange:()=>d(!c)}),(0,b.jsx)("div",{className:(0,n.clsx)("block h-6 w-10 rounded-full transition-colors",c?"bg-indigo-600":"bg-gray-300 dark:bg-zinc-700")}),(0,b.jsx)("div",{className:(0,n.clsx)("dot absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform",c&&"translate-x-full")})]})]})}function q({rating:a,setRating:c}){return(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(d=>(0,b.jsx)("button",{type:"button",onClick:()=>c(d===a?0:d),children:(0,b.jsx)(j.StarIcon,{className:(0,n.clsx)("h-6 w-6",d<=a?"text-yellow-500":"text-gray-300")})},d)),(0,b.jsx)("input",{type:"hidden",name:"rating",value:a})]})}function r(){let{pending:a}=(0,o.useFormStatus)();return(0,b.jsx)("button",{type:"submit",disabled:a,className:"flex h-10 items-center justify-center rounded-lg bg-indigo-600 px-6 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50",children:a?"Updating...":"Update Post"})}function s({post:a}){let[d,j]=(0,c.useActionState)(e,{message:null,errors:{}}),[n,o]=(0,c.useState)(a.content_html||""),[s,t]=(0,c.useState)(a.rating||0),[u,v]=(0,c.useState)(a.is_premium||!1),[w,x]=(0,c.useState)(a.is_nsfw||!1),[y,z]=(0,c.useState)(a.has_spoilers||!1),[A,B]=(0,c.useState)(a.banner_url),C=a.movie?{...a.movie,id:a.movie.tmdb_id}:a.series?{...a.series,id:a.series.tmdb_id}:null,[D]=(0,c.useState)(C),[E,F]=(0,c.useState)(!1),G=(0,c.useRef)(null),H=async a=>{let b=a.target.files?.[0];if(!b)return;F(!0);let c=new FormData;c.append("banner",b);let d=await (0,f.uploadBanner)(c);d.success&&d.url&&B(d.url),F(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.default,{breadcrumbs:[{label:"Blog",href:"/blog"},{label:a.title,href:`/blog/${a.slug}`},{label:"Edit",href:"#",active:!0}]}),(0,b.jsxs)("form",{action:j,className:"mt-6 space-y-8",children:[(0,b.jsx)("input",{type:"hidden",name:"postId",value:a.id}),(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-6 dark:bg-zinc-900 dark:border-zinc-800",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Banner Image"}),A?(0,b.jsxs)("div",{className:"relative aspect-video w-full max-w-md",children:[(0,b.jsx)(l.default,{src:A,alt:"Banner",fill:!0,className:"rounded-md object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>B(null),className:"absolute top-2 right-2 p-1 bg-black/60 text-white rounded-full",children:(0,b.jsx)(h.XCircleIcon,{className:"h-5 w-5"})})]}):(0,b.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800",children:[E?(0,b.jsx)(k.default,{}):(0,b.jsx)(i,{className:"w-8 h-8 text-gray-400"}),(0,b.jsx)("input",{ref:G,type:"file",onChange:H,className:"hidden",accept:"image/*"})]}),(0,b.jsx)("input",{type:"hidden",name:"banner_url",value:A||""})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-white rounded-lg border dark:bg-zinc-900 dark:border-zinc-800",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Post Settings"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(p,{label:"Premium",isEnabled:u,setIsEnabled:v,name:"is_premium"}),(0,b.jsx)(p,{label:"NSFW",isEnabled:w,setIsEnabled:x,name:"is_nsfw"}),(0,b.jsx)(p,{label:"Spoilers",isEnabled:y,setIsEnabled:z,name:"has_spoilers"})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-white rounded-lg border dark:bg-zinc-900 dark:border-zinc-800",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Rating"}),(0,b.jsx)(q,{rating:s,setRating:t})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("input",{name:"title",defaultValue:a.title,className:"w-full text-2xl font-bold bg-transparent border-0 border-b border-gray-200 focus:ring-0 px-0 dark:border-zinc-700",placeholder:"Post Title"}),(0,b.jsxs)("div",{className:"min-h-[400px] border rounded-lg dark:border-zinc-700",children:[(0,b.jsx)(m.SimpleEditor,{value:n,onChange:o}),(0,b.jsx)("input",{type:"hidden",name:"content_html",value:n})]}),d.errors?.content_html&&(0,b.jsx)("p",{className:"text-red-500",children:d.errors.content_html[0]})]}),D&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"hidden",name:"cinematicApiId",value:D.id}),(0,b.jsx)("input",{type:"hidden",name:"media_type",value:a.movie_id?"movie":"tv"})]}),(0,b.jsx)("div",{className:"flex justify-end gap-4",children:(0,b.jsx)(r,{})}),d.message&&(0,b.jsx)("p",{className:"text-red-500 text-right",children:d.message})]})]})}a.s(["default",()=>s],81696)}];

//# sourceMappingURL=_8f0ba96d._.js.map