module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},81209,a=>{a.n(a.i(62225))},9094,a=>{a.n(a.i(59310))},70864,a=>{a.n(a.i(33290))},65897,a=>{a.n(a.i(42095))},45538,a=>{a.n(a.i(63588))},2894,a=>{a.n(a.i(66188))},88018,a=>{a.n(a.i(71924))},5585,a=>{a.n(a.i(19413))},18901,a=>{a.n(a.i(40031))},33158,a=>{a.n(a.i(96562))},54641,a=>{"use strict";var b=a.i(29024),c=a.i(38704);let d=(0,c.cache)(async a=>{let c=await (0,b.createClient)(),{data:d,error:e}=await c.from("lists").select(`
            id, title, description, is_public, updated_at,
            list_entries ( rank, movies ( poster_url ), series ( poster_url ) )
        `).eq("user_id",a).order("updated_at",{ascending:!1});return e||!d?[]:d.map(a=>{let b=a.list_entries.map(a=>({poster_url:a.movies?.poster_url||a.series?.poster_url||null})).filter(a=>a.poster_url);return{id:a.id,title:a.title,description:a.description,is_public:a.is_public,item_count:a.list_entries.length,updated_at:a.updated_at,preview_items:b.slice(0,3)}})}),e=(0,c.cache)(async a=>{let c=await (0,b.createClient)(),{data:d,error:e}=await c.from("lists").select(`
            id, title, description, is_public, updated_at,
            list_entries ( rank, movies ( poster_url ), series ( poster_url ) )
        `).eq("user_id",a).eq("is_public",!0).order("updated_at",{ascending:!1});return e||!d?[]:d.map(a=>{let b=a.list_entries.map(a=>({poster_url:a.movies?.poster_url||a.series?.poster_url||null})).filter(a=>a.poster_url);return{id:a.id,title:a.title,description:a.description,is_public:a.is_public,item_count:a.list_entries.length,updated_at:a.updated_at,preview_items:b.slice(0,3)}})}),f=(0,c.cache)(async a=>{let c=await (0,b.createClient)(),{data:d}=await c.from("lists").select("*, profiles (username, display_name, profile_pic_url)").eq("id",a).single();if(!d)return null;let{data:e}=await c.from("list_entries").select("*").eq("list_id",a).order("rank",{ascending:!0});if(!e||0===e.length)return{id:d.id,title:d.title,description:d.description,user_id:d.user_id,updated_at:d.updated_at,creator:d.profiles,entries:[],backdrop_url:null};let f=e.filter(a=>a.movie_id).map(a=>a.movie_id),g=e.filter(a=>a.series_id).map(a=>a.series_id),[h,i]=await Promise.all([f.length>0?c.from("movies").select("tmdb_id, title, poster_url, release_date, backdrop_url").in("tmdb_id",f):{data:[]},g.length>0?c.from("series").select("tmdb_id, title, poster_url, release_date, backdrop_url").in("tmdb_id",g):{data:[]}]),j=new Map(h.data?.map(a=>[a.tmdb_id,a])),k=new Map(i.data?.map(a=>[a.tmdb_id,a])),l=e.map(a=>{let b=null;if(a.movie_id){let c=j.get(a.movie_id);c&&(b={...c,id:c.tmdb_id,type:"movie"})}else if(a.series_id){let c=k.get(a.series_id);c&&(b={...c,id:c.tmdb_id,type:"series"})}return b?{id:a.id,rank:a.rank,note:a.note,media:b}:null}).filter(Boolean);return{id:d.id,title:d.title,description:d.description,user_id:d.user_id,updated_at:d.updated_at,creator:d.profiles,entries:l,backdrop_url:l[0]?.media?.backdrop_url||null}});a.s(["getListDetails",0,f,"getPublicListsByUserId",0,e,"getUserLists",0,d])},58153,a=>{"use strict";var b=a.i(20239),c=a.i(52756),d=a.i(88543),e=a.i(29024),f=a.i(54641);a.i(10171);var g=a.i(21344),h=a.i(38704);let i=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),j=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z"}))}),k=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),l=h.forwardRef(function({title:a,titleId:b,...c},d){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?h.createElement("title",{id:b},a):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))});a.i(16162);var m=a.i(25161);function n(){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center px-4",children:[(0,b.jsx)(j,{className:"w-12 h-12 text-zinc-300 mb-4",strokeWidth:1}),(0,b.jsx)("h3",{className:"text-sm font-bold text-zinc-900 dark:text-zinc-100",children:"No lists yet"}),(0,b.jsx)("p",{className:"text-xs text-zinc-500 mt-1 max-w-xs",children:"Create your first list to start organizing your movies and shows."})]})}function o({list:a}){return(0,b.jsxs)(c.default,{href:`/lists/${a.id}/edit`,className:"group flex items-center justify-between px-6 py-5 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-black hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"relative w-12 h-12 flex-shrink-0",children:a.preview_items&&a.preview_items.length>0?(0,b.jsx)("div",{className:"relative w-full h-full",children:a.preview_items.slice(0,3).map((a,c)=>(0,b.jsx)("div",{className:"absolute top-0 left-0 w-8 h-12 rounded-sm overflow-hidden border border-white dark:border-zinc-900 shadow-sm bg-zinc-200 dark:bg-zinc-800",style:{transform:`translateX(${6*c}px) translateY(${2*c}px)`,zIndex:3-c},children:a.poster_url&&(0,b.jsx)(d.default,{src:a.poster_url.startsWith("http")?a.poster_url:`https://image.tmdb.org/t/p/w92${a.poster_url}`,alt:"",fill:!0,className:"object-cover",sizes:"32px"})},c))}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-zinc-100 dark:bg-zinc-900 rounded-lg text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-zinc-100 transition-colors",children:(0,b.jsx)(l,{className:"w-6 h-6",strokeWidth:1.5})})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 tracking-wide",children:a.title}),(0,b.jsxs)("span",{className:"text-xs text-zinc-500",children:[a.item_count," items â€¢ ",a.is_public?"Public":"Private"]})]})]}),(0,b.jsx)(k,{className:"w-4 h-4 text-zinc-300 group-hover:text-zinc-900 dark:group-hover:text-zinc-100 transition-colors"})]})}async function p(){let a=await (0,e.createClient)(),{data:{user:d}}=await a.auth.getUser();d||(0,m.redirect)("/auth/login");let h=await (0,f.getUserLists)(d.id);return(0,b.jsxs)("main",{className:"min-h-screen w-full bg-zinc-50 dark:bg-zinc-950 pb-20",children:[(0,b.jsx)("header",{className:"w-full bg-white dark:bg-black border-b border-zinc-200 dark:border-zinc-800 py-4 px-6 sticky top-0 z-10",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[(0,b.jsx)("h1",{className:`${g.PlayWriteNewZealandFont.className} text-xl md:text-2xl text-zinc-900 dark:text-zinc-100`,children:"Your Lists"}),(0,b.jsxs)(c.default,{href:"/lists/create",className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 dark:bg-zinc-100 hover:bg-zinc-800 dark:hover:bg-zinc-200 text-white dark:text-black text-xs font-bold uppercase tracking-wider transition-colors",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"New List"})]})]})}),(0,b.jsx)("div",{className:"max-w-3xl mx-auto pt-8 px-0 sm:px-6",children:(0,b.jsx)("section",{className:"border-y sm:border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-black",children:h.length>0?h.map(a=>(0,b.jsx)(o,{list:a},a.id)):(0,b.jsx)(n,{})})})]})}a.s(["default",()=>p],58153)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__64fef70c._.js.map