module.exports=[59659,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});a.s(["XMarkIcon",0,c],59659)},70741,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))});a.s(["FilmIcon",0,c],70741)},87277,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});a.s(["MagnifyingGlassIcon",0,c],87277)},61409,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))});a.s(["ArrowPathIcon",0,c],61409)},16386,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});a.s(["UserIcon",0,c],16386)},77235,a=>{"use strict";var b=a.i(72888),c=a.i(31470),d=a.i(81159),e=a.i(34518),f=a.i(56920);function g({profile:a,currentUserId:g}){let h=g===a.id,i="visibility"in a&&"private"===a.visibility,j="follow_status"in a?a.follow_status:"not_following";return(0,b.jsxs)("div",{className:"flex items-center justify-between w-full px-4 py-3 hover:bg-zinc-50 dark:hover:bg-zinc-900/40 transition-colors duration-200",children:[(0,b.jsxs)(c.default,{href:`/profile/${a.username}`,className:"flex items-center gap-3.5 min-w-0 flex-1",children:[(0,b.jsx)("div",{className:"relative h-11 w-11 flex-shrink-0",children:(0,b.jsx)(d.default,{src:a.profile_pic_url||"/placeholder-user.jpg",alt:a.display_name,fill:!0,className:"rounded-full object-cover border border-zinc-100 dark:border-zinc-800"})}),(0,b.jsxs)("div",{className:"flex flex-col justify-center min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 truncate leading-none",children:a.username}),(0,b.jsx)(e.default,{role:a.role})]}),(0,b.jsx)("span",{className:"text-sm text-zinc-500 dark:text-zinc-400 truncate mt-0.5 leading-none",children:a.display_name})]})]}),!h&&(0,b.jsx)("div",{className:"ml-4 w-24 flex-shrink-0",children:(0,b.jsx)(f.default,{profileId:a.id,isPrivate:i,initialFollowStatus:j})})]})}a.s(["default",()=>g])},1648,a=>{"use strict";var b=a.i(46344);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z"}))});a.s(["TvIcon",0,c],1648)},11488,52389,a=>{"use strict";var b=a.i(62068);let c=(0,b.createServerReference)("40db3109247e2eda43546539812bc50eb62478030b",b.callServer,void 0,b.findSourceMapURL,"searchProfiles");a.s(["searchProfiles",()=>c],11488);var d=a.i(46344);let e=d.forwardRef(function({title:a,titleId:b,...c},e){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},c),a?d.createElement("title",{id:b},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))});a.s(["StarIcon",0,e],52389)},85953,a=>{"use strict";var b=a.i(72888),c=a.i(46344),d=a.i(20160),e=a.i(65574),f=a.i(11488),g=a.i(77235),h=a.i(31470),i=a.i(81159),j=a.i(70741),k=a.i(1648),l=a.i(52389);function m({media:a}){let c="person"===a.media_type,d=c?a.department:a.release_date?a.release_date.split("-")[0]:"N/A",e=c?`/discover/actor/${a.id}`:`/discover/${a.media_type}/${a.id}`;return(0,b.jsxs)(h.default,{href:e,className:"group block bg-white dark:bg-black border border-zinc-200 dark:border-zinc-800 hover:border-zinc-900 dark:hover:border-zinc-100 transition-all hover:shadow-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative w-full aspect-[2/3] bg-zinc-100 dark:bg-zinc-900",children:[a.poster_path?(0,b.jsx)(i.default,{src:`https://image.tmdb.org/t/p/w500${a.poster_path}`,alt:a.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500"}):(0,b.jsxs)("div",{className:"flex items-center justify-center w-full h-full",children:["movie"===a.media_type&&(0,b.jsx)(j.FilmIcon,{className:"w-12 h-12 text-zinc-300 dark:text-zinc-700"}),"tv"===a.media_type&&(0,b.jsx)(k.TvIcon,{className:"w-12 h-12 text-zinc-300 dark:text-zinc-700"}),"person"===a.media_type&&(0,b.jsx)(l.StarIcon,{className:"w-12 h-12 text-zinc-300 dark:text-zinc-700"})]}),(0,b.jsx)("div",{className:"absolute top-2 left-2",children:(0,b.jsx)("span",{className:`px-2 py-1 border text-[9px] font-bold uppercase tracking-wider ${c?"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-900/50 text-amber-600 dark:text-amber-500":"bg-white/90 dark:bg-black/90 border-zinc-200 dark:border-zinc-800 text-zinc-500"}`,children:"movie"===a.media_type?"FILM":"tv"===a.media_type?"TV":"STAR"})})]}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-zinc-900 dark:text-zinc-100 leading-tight group-hover:underline decoration-1 underline-offset-2 line-clamp-2 mb-1",children:a.title}),(0,b.jsx)("p",{className:"text-[10px] font-mono text-zinc-400 uppercase tracking-wider",children:d})]})]})}a.i(2762);var n=a.i(81826),o=a.i(87277),p=a.i(59659);let q=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))});var r=a.i(16386),s=a.i(61409),t=a.i(62068);let u=(0,t.createServerReference)("4098ca1fff29b0c945a2849d7a526c784388842ed9",t.callServer,void 0,t.findSourceMapURL,"searchCinematic");function v(){let a=(0,d.useSearchParams)().get("query")||"",[h,i]=(0,c.useState)(a),[k,l]=(0,c.useState)([]),[t,v]=(0,c.useState)([]),[w,x]=(0,c.useTransition)(),[y,z]=(0,c.useState)(void 0),A=h.startsWith("@");(0,c.useEffect)(()=>{(async()=>{let a=(0,e.createClient)(),{data:{user:b}}=await a.auth.getUser();b&&z(b.id)})()},[]),(0,c.useEffect)(()=>{let b=setTimeout(()=>{h.trim().length>1?x(async()=>{if(h.startsWith("@")){let a=h.substring(1);a.length>0&&(l(await (0,f.searchProfiles)(a)),v([]))}else v(await u(h)),l([])}):(l([]),v([]))},300*(h!==a||""===a));return()=>clearTimeout(b)},[h]);let B=k.length>0||t.length>0;return(0,b.jsxs)("div",{className:`w-full pb-24 relative z-10 max-w-2xl mx-auto pt-8 px-4 md:px-6 ${n.geistSans.className}`,children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Global Search"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 mt-1",children:"Find films or find people."})]}),(0,b.jsxs)("div",{className:"mb-10 sticky top-4 z-20",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:A?(0,b.jsx)(q,{className:"h-5 w-5 text-blue-500 animate-in zoom-in duration-200"}):(0,b.jsx)(o.MagnifyingGlassIcon,{className:"h-5 w-5 text-zinc-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-zinc-100 transition-colors"})}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Search movies or type '@' for users...",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-2xl py-4 pl-11 pr-12 text-base text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-400 focus:outline-none focus:border-zinc-300 dark:focus:border-zinc-700 focus:ring-4 focus:ring-zinc-100 dark:focus:ring-zinc-800/50 transition-all shadow-sm",autoFocus:!0}),h&&(0,b.jsx)("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:(0,b.jsx)(p.XMarkIcon,{className:"w-4 h-4"})})]}),!h&&(0,b.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2 text-xs text-zinc-400",children:[(0,b.jsx)("span",{className:"bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 px-1.5 py-0.5 rounded text-[10px] font-mono",children:"@"}),(0,b.jsx)("span",{children:"to switch to profile search"})]})]}),(0,b.jsx)("div",{className:"min-h-[200px]",children:w?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 gap-3 opacity-60",children:[(0,b.jsx)(s.ArrowPathIcon,{className:"w-5 h-5 animate-spin text-zinc-400"}),(0,b.jsx)("p",{className:"text-xs font-medium text-zinc-500",children:"Searching..."})]}):B?(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 space-y-8",children:[k.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1",children:[(0,b.jsx)("h3",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400",children:"People"}),(0,b.jsx)("span",{className:"text-[10px] font-medium px-2 py-0.5 bg-zinc-100 dark:bg-zinc-900 rounded-full text-zinc-500",children:k.length})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2",children:k.map(a=>(0,b.jsx)(g.default,{profile:a,currentUserId:y},a.id))})]}),t.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1",children:[(0,b.jsx)("h3",{className:"text-xs font-bold uppercase tracking-widest text-zinc-400",children:"Cinema"}),(0,b.jsx)("span",{className:"text-[10px] font-medium px-2 py-0.5 bg-zinc-100 dark:bg-zinc-900 rounded-full text-zinc-500",children:t.length})]}),(0,b.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:t.map(a=>(0,b.jsx)(m,{media:a},`${a.media_type}-${a.id}`))})]})]}):h.length>1?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center px-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)("span",{className:"text-lg",children:"âˆ…"})}),(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"No results found"}),(0,b.jsxs)("p",{className:"text-xs text-zinc-500 mt-1 max-w-xs",children:["We couldn't find anything matching \"",h,'". Try a different term or check your spelling.']})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-40",children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:(0,b.jsx)(j.FilmIcon,{className:"w-6 h-6 text-zinc-400"})}),(0,b.jsx)("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:(0,b.jsx)(r.UserIcon,{className:"w-6 h-6 text-zinc-400"})})]}),(0,b.jsx)("p",{className:"text-xs font-medium text-zinc-400",children:"Search the archive"})]})})]})}function w(){return(0,b.jsx)("main",{className:"min-h-screen bg-white dark:bg-black",children:(0,b.jsx)(v,{})})}a.s(["default",()=>w],85953)}];

//# sourceMappingURL=_752bc493._.js.map