(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88978,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});e.s(["StarIcon",0,r],88978)},74236,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))});e.s(["FilmIcon",0,r],74236)},47921,78982,3566,e=>{"use strict";var t=e.i(86788);let r=(0,t.createServerReference)("40caf8e6eb284073880d186f232af97efac0fe1041",t.callServer,void 0,t.findSourceMapURL,"uploadBanner");e.s(["uploadBanner",()=>r],47921);var s=e.i(87155),a=e.i(7284),n=e.i(30104);function o({breadcrumbs:e}){return(0,s.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-6 block",children:(0,s.jsx)("ol",{className:"flex items-center flex-wrap",children:e.map((t,r)=>(0,s.jsxs)("li",{"aria-current":t.active?"page":void 0,className:"flex items-center",children:[(0,s.jsx)(n.default,{href:t.href,className:(0,a.clsx)("font-mono text-[10px] md:text-xs uppercase tracking-[0.15em] transition-all duration-200",t.active?"text-zinc-900 dark:text-zinc-100 font-bold border-b-2 border-zinc-900 dark:border-zinc-100":"text-zinc-400 hover:text-zinc-900 dark:text-zinc-600 dark:hover:text-zinc-300 no-underline"),children:t.label}),r<e.length-1?(0,s.jsx)("span",{className:"mx-3 text-zinc-300 dark:text-zinc-800 font-mono text-[10px] select-none",children:"/"}):null]},t.href))})})}e.s(["default",()=>o],78982);var i=e.i(62311);let l=i.forwardRef(function({title:e,titleId:t,...r},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))});e.s(["XCircleIcon",0,l],3566)},92910,e=>{"use strict";e.i(14595);var t=e.i(87155),r=e.i(62311),s=e.i(67709),a=e.i(30104),n=e.i(51588),o=e.i(86788);let i=(0,o.createServerReference)("602e668d082821296879bcd81f75884bdcc96b1659",o.callServer,void 0,o.findSourceMapURL,"createPost");var l=e.i(47921);let c=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,d=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,u=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function p(e,t){var r;return"__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t?void(r=e,console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)):t}function m(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return NaN;case"infinity":return 1/0;case"-infinity":return-1/0}if(!u.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(c.test(e)||d.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,p)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}let h=/#/g,f=/&/g,x=/\//g,b=/=/g,g=/\+/g,y=/%5e/gi,v=/%60/gi,j=/%7c/gi,w=/%20/gi;function N(e){return encodeURI(""+("string"==typeof e?e:JSON.stringify(e))).replace(j,"|").replace(g,"%2B").replace(w,"+").replace(h,"%23").replace(f,"%26").replace(v,"`").replace(y,"^").replace(x,"%2F")}function k(e){return N(e).replace(b,"%3D")}function S(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}let z=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,E=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,C=/^([/\\]\s*){2,}[^/\\]/,R=/\/$|\/\?|\/#/,T=/^\.?\//;function A(e,t={}){return("boolean"==typeof t&&(t={acceptRelative:t}),t.strict)?z.test(e):E.test(e)||!!t.acceptRelative&&C.test(e)}let _=Symbol.for("ufo:protocolRelative");function q(e=""){let[t="",r="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:s}}class P extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}let O=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function L(e="GET"){return O.has(e.toUpperCase())}let $=new Set(["image/svg","application/xml","application/xhtml","application/html"]),F=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;async function I(e,t){if(t)if(Array.isArray(t))for(let r of t)await r(e);else await t(e)}let M=new Set([408,409,425,429,500,502,503,504]),B=new Set([101,204,205,304]),U="u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:e.g,Z=U.fetch?(...e)=>U.fetch(...e):()=>Promise.reject(Error("[ofetch] global.fetch is not supported!")),D=function e(t={}){let{fetch:r=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:a=globalThis.AbortController}=t;async function n(e){let t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:+!L(e.options.method);let r=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(r):M.has(r))){let r="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return r>0&&await new Promise(e=>setTimeout(e,r)),o(e.request,{...e.options,retry:t-1})}}let r=function(e){let t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",s=e.request?.url||String(e.request)||"/",a=`[${r}] ${JSON.stringify(s)}`,n=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=new P(`${a}: ${n}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(let t of["request","options","response"])Object.defineProperty(o,t,{get:()=>e[t]});for(let[t,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,t,{get:()=>e.response&&e.response[r]});return o}(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,o),r}let o=async function(e,o={}){var i,l,c,d;let u,p,h,f={request:e,options:(i=t.defaults,h=function(e,t,r){if(!t)return new r(e);let s=new r(t);if(e)for(let[t,a]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))s.set(t,a);return s}(o?.headers??e?.headers,i?.headers,s),(i?.query||i?.params||o?.params||o?.query)&&(p={...i?.params,...i?.query,...o?.params,...o?.query}),{...i,...o,query:p,params:p,headers:h}),response:void 0,error:void 0};if(f.options.method&&(f.options.method=f.options.method.toUpperCase()),f.options.onRequest&&(await I(f,f.options.onRequest),f.options.headers instanceof s||(f.options.headers=new s(f.options.headers||{}))),"string"==typeof f.request){if(f.options.baseURL&&(f.request=function(e,t){var r;if(!(r=t)||"/"===r||A(e))return e;let s=function(e="",t){return(!function(e="",t){return e.endsWith("/")}(e)?e:e.slice(0,-1))||"/"}(t);if(e.startsWith(s)){let t=e[s.length];if(!t||"/"===t||"?"===t)return e}return function(e,...t){let r=e||"";for(let e of t.filter(e=>e&&"/"!==e))if(r){let t=e.replace(T,"");r=function(e="",t){return e.endsWith("/")?e:e+"/"}(r)+t}else r=e;return r}(s,e)}(f.request,f.options.baseURL)),f.options.query){let e,t,r,s,a,n,o;l=f.request,c=f.options.query,t={...function(e=""){let t=Object.create(null);for(let r of("?"===e[0]&&(e=e.slice(1)),e.split("&"))){let e=r.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let s=S(e[1].replace(g," "));if("__proto__"===s||"constructor"===s)continue;let a=S((e[2]||"").replace(g," "));void 0===t[s]?t[s]=a:Array.isArray(t[s])?t[s].push(a):t[s]=[t[s],a]}return t}((e=function e(t="",r){let s=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){let[,e,t=""]=s;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!A(t,{acceptRelative:!0}))return r?e(r+t):q(t);let[,a="",n,o=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,i="",l=""]=o.match(/([^#/?]*)(.*)?/)||[];"file:"===a&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:c,search:d,hash:u}=q(l);return{protocol:a.toLowerCase(),auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:i,pathname:c,search:d,hash:u,[_]:!a}}(l)).search),...c},e.search=Object.keys(t).filter(e=>void 0!==t[e]).map(e=>{var r;return(("number"==typeof(r=t[e])||"boolean"==typeof r)&&(r=String(r)),r)?Array.isArray(r)?r.map(t=>`${k(e)}=${N(t)}`).join("&"):`${k(e)}=${N(r)}`:k(e)}).filter(Boolean).join("&"),r=(d=e).pathname||"",s=d.search?(d.search.startsWith("?")?"":"?")+d.search:"",a=d.hash||"",n=d.auth?d.auth+"@":"",o=d.host||"",f.request=(d.protocol||d[_]?(d.protocol||"")+"//":"")+n+o+r+s+a,delete f.options.query}"query"in f.options&&delete f.options.query,"params"in f.options&&delete f.options.params}if(f.options.body&&L(f.options.method))if(function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!(e.buffer||e instanceof FormData||e instanceof URLSearchParams)&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(f.options.body)){let e=f.options.headers.get("content-type");"string"!=typeof f.options.body&&(f.options.body="application/x-www-form-urlencoded"===e?new URLSearchParams(f.options.body).toString():JSON.stringify(f.options.body)),e||f.options.headers.set("content-type","application/json"),f.options.headers.has("accept")||f.options.headers.set("accept","application/json")}else("pipeTo"in f.options.body&&"function"==typeof f.options.body.pipeTo||"function"==typeof f.options.body.pipe)&&!("duplex"in f.options)&&(f.options.duplex="half");if(!f.options.signal&&f.options.timeout){let e=new a;u=setTimeout(()=>{let t=Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},f.options.timeout),f.options.signal=e.signal}try{f.response=await r(f.request,f.options)}catch(e){return f.error=e,f.options.onRequestError&&await I(f,f.options.onRequestError),await n(f)}finally{u&&clearTimeout(u)}if((f.response.body||f.response._bodyInit)&&!B.has(f.response.status)&&"HEAD"!==f.options.method){let e=(f.options.parseResponse?"json":f.options.responseType)||function(e=""){if(!e)return"json";let t=e.split(";").shift()||"";return F.test(t)?"json":"text/event-stream"===t?"stream":$.has(t)||t.startsWith("text/")?"text":"blob"}(f.response.headers.get("content-type")||"");switch(e){case"json":{let e=await f.response.text(),t=f.options.parseResponse||m;f.response._data=t(e);break}case"stream":f.response._data=f.response.body||f.response._bodyInit;break;default:f.response._data=await f.response[e]()}}return(f.options.onResponse&&await I(f,f.options.onResponse),!f.options.ignoreResponseError&&f.response.status>=400&&f.response.status<600)?(f.options.onResponseError&&await I(f,f.options.onResponseError),await n(f)):f.response},i=async function(e,t){return(await o(e,t))._data};return i.raw=o,i.native=(...e)=>r(...e),i.create=(r={},s={})=>e({...t,...s,defaults:{...t.defaults,...s.defaults,...r}}),i}({fetch:Z,Headers:U.Headers,AbortController:U.AbortController});var J=e.i(78982),H=e.i(3566),W=e.i(74236),G=e.i(88978);let X=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))});var K=e.i(51913),V=e.i(9727),Q=e.i(7284);function Y({results:e,onSelectMovie:r,isLoading:s}){return s?(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 p-4 text-center rounded-md shadow-lg bg-white dark:bg-zinc-800 border dark:border-zinc-700",children:(0,t.jsx)(K.default,{})}):0===e.length?null:(0,t.jsx)("ul",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg dark:bg-zinc-800 dark:border-zinc-700 max-h-60 overflow-y-auto",children:e.map(e=>(0,t.jsxs)("li",{className:"flex items-center p-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-zinc-700",onClick:()=>r(e),children:[e.poster_path?(0,t.jsx)(n.default,{src:`https://image.tmdb.org/t/p/w92${e.poster_path}`,alt:e.title,width:40,height:60,className:"object-cover mr-3 rounded"}):(0,t.jsx)("div",{className:"w-10 h-[60px] mr-3 rounded flex items-center justify-center bg-gray-200 dark:bg-zinc-700",children:(0,t.jsx)(W.FilmIcon,{className:"w-5 h-5 text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.release_date?.split("-")[0]})]})]},e.id))})}function ee({rating:e,setRating:s}){let[a,n]=(0,r.useState)(0);return(0,t.jsxs)("div",{className:"mt-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((r,o)=>{let i=o+1;return(0,t.jsxs)("label",{className:"cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"rating",value:i,onClick:()=>{e===i?s(i-.5):e===i-.5?s(0):s(i)},className:"hidden"}),(0,t.jsx)(G.StarIcon,{className:"h-7 w-7 transition-all duration-150",style:{clipPath:(a||e)>=i?"none":(a||e)>=i-.5?"inset(0 50% 0 0)":"none"},color:(a||e)>=i-.5?"#f59e0b":"#e5e7eb",onMouseEnter:()=>n(i),onMouseLeave:()=>n(0)})]},i)})}),e>0&&(0,t.jsx)("button",{type:"button",onClick:()=>s(0),className:"text-xs text-gray-500 hover:text-red-500",title:"Clear rating",children:"Clear"})]}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-zinc-400",children:"Tip: Click a selected star again for a half-rating."})]})}function et({label:e,isEnabled:r,setIsEnabled:s,name:a}){return(0,t.jsxs)("label",{htmlFor:a,className:"flex items-center justify-between cursor-pointer",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-zinc-200",children:e}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:a,name:a,type:"checkbox",className:"sr-only",checked:r,onChange:()=>s(!r)}),(0,t.jsx)("div",{className:(0,Q.clsx)("block h-6 w-10 rounded-full transition-colors duration-300 ease-in-out",r?"bg-indigo-600":"bg-gray-300 dark:bg-zinc-700")}),(0,t.jsx)("div",{className:(0,Q.clsx)("dot absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform duration-300 ease-in-out",r&&"translate-x-full")})]})]})}function er(){let{pending:e}=(0,s.useFormStatus)();return(0,t.jsx)("button",{type:"submit",disabled:e,className:"flex h-10 items-center justify-center rounded-lg bg-indigo-600 px-6 text-sm font-medium text-white shadow-sm transition-colors hover:bg-indigo-700 disabled:cursor-not-allowed disabled:bg-indigo-400",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K.default,{className:"mr-2"})," Publishing..."]}):"Publish Post"})}function es(){let[e,s]=(0,r.useActionState)(i,{message:null,errors:{}}),o=(0,r.useRef)(null),c=(0,r.useRef)(null),d=(0,r.useRef)(!1),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[f,x]=(0,r.useState)([]),[b,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(0),[N,k]=(0,r.useState)(!1),[S,z]=(0,r.useState)(!1),[E,C]=(0,r.useState)(!1),[R,T]=(0,r.useState)(null),[A,_]=(0,r.useState)(!1),[q,P]=(0,r.useState)(null);(0,r.useEffect)(()=>{null!==e.message||e.errors||(o.current?.reset(),p(""),g(null),h(""),T(null),P(null),c.current&&(c.current.value=""),w(0),k(!1),z(!1),C(!1))},[e]),(0,r.useEffect)(()=>{if(d.current){d.current=!1;return}let e=setTimeout(()=>{m.trim().length<3?x([]):(v(!0),D(`https://api.themoviedb.org/3/search/movie?api_key=0005113c34d0286529cd420f567b03c5&query=${encodeURIComponent(m)}`).then(e=>x(e.results.slice(0,5))).catch(e=>console.error("Failed to fetch movies:",e)).finally(()=>v(!1)))},500);return()=>clearTimeout(e)},[m]);let O=async e=>{let t=e.target.files?.[0];if(!t)return;_(!0),P(null);let r=new FormData;r.append("banner",t);let s=await (0,l.uploadBanner)(r);s.success&&s.url?T(s.url):(P(s.error||"Upload failed. Please try again."),c.current&&(c.current.value="")),_(!1)};return(0,t.jsxs)("main",{className:"max-w-5xl mx-auto px-4 mt-4 ",children:[(0,t.jsx)(J.default,{breadcrumbs:[{label:"Blog",href:"/blog"},{label:"Create Post",href:"/blog/create",active:!0}]}),(0,t.jsxs)("form",{ref:o,action:s,className:"mt-6 space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Link a Movie"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"movieSearch",type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"Search for a movie...",autoComplete:"off",className:"block w-full rounded-md border-gray-300 bg-gray-50 py-2 px-3 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-zinc-700 dark:bg-zinc-800"}),(0,t.jsx)(Y,{results:f,onSelectMovie:e=>{d.current=!0,g(e),h(e.title),x([])},isLoading:y})]}),b&&(0,t.jsxs)("div",{className:"mt-4 p-3 rounded-md border border-indigo-200 bg-indigo-50 dark:border-indigo-900 dark:bg-indigo-950/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[b.poster_path&&(0,t.jsx)(n.default,{src:`https://image.tmdb.org/t/p/w92${b.poster_path}`,alt:b.title,width:40,height:60,className:"rounded object-cover"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm truncate",children:b.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-zinc-400",children:b.release_date?.split("-")[0]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{g(null),h("")},className:"p-1 text-gray-400 hover:text-red-500 flex-shrink-0",children:(0,t.jsx)(H.XCircleIcon,{className:"h-5 w-5"})})]}),(0,t.jsx)("input",{type:"hidden",name:"movieApiId",value:b.id})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Banner Image"}),R?(0,t.jsxs)("div",{className:"relative aspect-video w-full",children:[(0,t.jsx)(n.default,{src:R,alt:"Banner preview",fill:!0,className:"rounded-md object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>{T(null),c.current&&(c.current.value="")},className:"absolute top-2 right-2 p-1 rounded-full bg-black/60 text-white transition-colors hover:bg-black/80",children:(0,t.jsx)(H.XCircleIcon,{className:"h-5 w-5"})})]}):(0,t.jsxs)("label",{htmlFor:"banner-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 dark:border-zinc-700 dark:bg-zinc-800/50 dark:hover:bg-zinc-800",children:[A?(0,t.jsx)(K.default,{}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(X,{className:"w-8 h-8 mb-2 text-gray-500 dark:text-zinc-400"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-zinc-400 text-center",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Click to upload"}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs",children:"PNG, JPG (MAX. 4MB)"})]})]}),(0,t.jsx)("input",{ref:c,id:"banner-upload",type:"file",accept:"image/*",onChange:O,className:"hidden",disabled:A})]}),q&&(0,t.jsx)("p",{className:"mt-2 text-xs text-red-500",children:q}),e.errors?.banner_url&&(0,t.jsx)("p",{className:"mt-2 text-xs text-red-500",children:e.errors.banner_url[0]})]}),(0,t.jsx)("div",{className:"rounded-lg border bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900 md:col-span-2 xl:col-span-1",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Rating"}),(0,t.jsx)(ee,{rating:j,setRating:w}),(0,t.jsx)("input",{type:"hidden",name:"rating",value:j})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 dark:border-zinc-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Options"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(et,{label:"Premium Content",isEnabled:N,setIsEnabled:k,name:"is_premium"}),(0,t.jsx)(et,{label:"NSFW (18+)",isEnabled:S,setIsEnabled:z,name:"is_nsfw"}),(0,t.jsx)(et,{label:"Contains Spoilers",isEnabled:E,setIsEnabled:C,name:"has_spoilers"})]})]})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Post Title"}),(0,t.jsx)("input",{id:"title",name:"title",type:"text",placeholder:"e.g., An Analysis of Interstellar's Cinematography",className:"block w-full rounded-md border-gray-300 bg-gray-50 py-3 px-4 text-lg shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-zinc-700 dark:bg-zinc-800",required:!0}),e.errors?.title&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:e.errors.title[0]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Content"}),(0,t.jsx)("div",{className:"rounded-lg border border-gray-300 dark:border-zinc-700 ",children:(0,t.jsx)(V.SimpleEditor,{value:u,onChange:e=>{p(e)},placeholder:"Start writing your blog post..."})}),(0,t.jsx)("input",{type:"hidden",name:"content_html",value:u}),e.errors?.content_html&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:e.errors.content_html[0]})]}),(0,t.jsx)("input",{type:"hidden",name:"banner_url",value:R||""}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-zinc-700",children:[e.message&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center gap-4 ml-auto",children:[(0,t.jsx)(a.default,{href:"/blog",className:"flex h-10 items-center rounded-lg bg-gray-100 px-6 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-200 dark:bg-zinc-800 dark:text-zinc-300 dark:hover:bg-zinc-700",children:"Cancel"}),(0,t.jsx)(er,{})]})]})]})]})}e.s(["default",()=>es],92910)}]);