(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25424,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});e.s(["TrashIcon",0,r],25424)},84837,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});e.s(["EyeIcon",0,r],84837)},47257,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});e.s(["HeartIcon",0,r],47257)},35991,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))});e.s(["PencilSquareIcon",0,r],35991)},13378,e=>{"use strict";var t=e.i(62311);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:l="",children:c,iconNode:o,...d},u)=>(0,t.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:n?24*Number(a)/Number(r):a,className:s("lucide",l),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...o.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]])),n=(e,i)=>{let n=(0,t.forwardRef)(({className:n,...l},c)=>(0,t.createElement)(a,{ref:c,iconNode:i,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...l}));return n.displayName=r(e),n};e.s(["default",()=>n],13378)},45662,e=>{"use strict";var t=e.i(87155),r=e.i(62311),s=e.i(42482),i=e.i(83838),a=e.i(13378);let n=(0,a.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),l=(0,a.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),c=(0,a.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=(0,a.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=e.i(7284);let u={premium:{title:"Premium Entry",description:"This content is part of the Premium Archive. It includes extended analysis, high-resolution assets, or exclusive insights reserved for supporters.",icon:(0,t.jsx)(n,{className:"w-full h-full"}),style:{trigger:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-500 border-amber-200 dark:border-amber-800/50",modalIcon:"bg-amber-50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-900/30 text-amber-600 dark:text-amber-500"}},nsfw:{title:"Sensitive Content",description:"This post contains material that may be unsuitable for public viewing or younger audiences (NSFW). Viewer discretion is advised.",icon:(0,t.jsx)(l,{className:"w-full h-full"}),style:{trigger:"bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-500 border-rose-200 dark:border-rose-800/50",modalIcon:"bg-rose-50 dark:bg-rose-900/10 border-rose-100 dark:border-rose-900/30 text-rose-600 dark:text-rose-500"}},spoiler:{title:"Spoiler Warning",description:"This post discusses significant plot details, twists, or endings. We recommend viewing the source material before reading.",icon:(0,t.jsx)(c,{className:"w-full h-full"}),style:{trigger:"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border-zinc-200 dark:border-zinc-700",modalIcon:"bg-zinc-100 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400"}}};function h({type:e}){let[a,n]=(0,r.useState)(!1),l=u[e];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(!0)},className:(0,d.clsx)("group relative flex items-center gap-1.5 px-3 py-1 rounded-full border transition-all hover:opacity-80 focus:outline-none",l.style.trigger),children:[(0,t.jsx)("div",{className:"w-3 h-3",children:l.icon}),(0,t.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"nsfw"===e?"Sensitive":e})]}),(0,t.jsx)(i.Transition,{appear:!0,show:a,as:r.Fragment,children:(0,t.jsxs)(s.Dialog,{as:"div",className:"relative z-[100]",onClose:()=>n(!1),children:[(0,t.jsx)(i.Transition.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-zinc-900/40 dark:bg-black/80 backdrop-blur-sm"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,t.jsx)(i.Transition.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)(s.Dialog.Panel,{className:"w-full max-w-sm transform overflow-hidden rounded-sm bg-white dark:bg-zinc-950 p-6 text-left align-middle shadow-2xl transition-all border-2 border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:(0,t.jsx)(o,{size:20})}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center pt-2",children:[(0,t.jsx)("div",{className:(0,d.clsx)("w-16 h-16 p-4 rounded-sm mb-5 border",l.style.modalIcon),children:l.icon}),(0,t.jsx)(s.Dialog.Title,{as:"h3",className:"text-xl font-bold uppercase tracking-tight text-zinc-900 dark:text-zinc-100",children:l.title}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("p",{className:"text-sm leading-relaxed text-zinc-600 dark:text-zinc-400",children:l.description})}),(0,t.jsx)("div",{className:"mt-8 w-full",children:(0,t.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-sm border border-zinc-900 dark:border-zinc-700 bg-zinc-900 dark:bg-zinc-100 px-6 py-3 text-xs font-bold uppercase tracking-widest text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-200 focus:outline-none transition-colors",onClick:()=>n(!1),children:"Understood"})})]})]})})})})]})})]})}function m(){return(0,t.jsx)(h,{type:"premium"})}function p(){return(0,t.jsx)(h,{type:"nsfw"})}function f(){return(0,t.jsx)(h,{type:"spoiler"})}e.s(["NsfwBadge",()=>p,"PremiumBadge",()=>m,"SpoilerBadge",()=>f],45662)},89448,e=>{"use strict";var t=e.i(86788);let r=(0,t.createServerReference)("404027ac4c5756e9197c0c675f5cf62efd8da1160e",t.callServer,void 0,t.findSourceMapURL,"deletePost");e.s(["deletePost",()=>r])},53320,e=>{"use strict";let t;var r=e.i(82679),s=e.i(59864),i=e.i(59243),a=e.i(78889),n=e.i(57142),l=e.i(66271),c=e.i(5763),o=class extends a.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#a=void 0;#n;#l;#r;#t;#c;#o;#d;#u;#h;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),d(this.#s,this.options)?this.#f():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#g(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#s.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#f(),this.updateResult(),s&&(this.#s!==r||(0,l.resolveEnabled)(this.options.enabled,this.#s)!==(0,l.resolveEnabled)(t.enabled,this.#s)||(0,l.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,l.resolveStaleTime)(t.staleTime,this.#s))&&this.#w();let i=this.#y();s&&(this.#s!==r||(0,l.resolveEnabled)(this.options.enabled,this.#s)!==(0,l.resolveEnabled)(t.enabled,this.#s)||i!==this.#m)&&this.#j(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,l.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#a=i,this.#l=this.options,this.#n=this.#s.state),i}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#v();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#w(){this.#b();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#s);if(l.isServer||this.#a.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#a.dataUpdatedAt,e);this.#u=c.timeoutManager.setTimeout(()=>{this.#a.isStale||this.updateResult()},t+1)}#y(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#j(e){this.#g(),this.#m=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#s)&&(0,l.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=c.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#f()},this.#m))}#x(){this.#w(),this.#j(this.#y())}#b(){this.#u&&(c.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#g(){this.#h&&(c.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,a=this.options,c=this.#a,o=this.#n,u=this.#l,p=e!==s?e.state:this.#i,{state:f}=e,x={...f},b=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&d(e,t),l=r&&h(e,s,t,a);(n||l)&&(x={...x,...(0,i.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:w}=x;r=x.data;let y=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===w){let e;c?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=c.data,y=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,void 0!==e&&(w="success",r=(0,l.replaceData)(c?.data,e,t),b=!0)}if(t.select&&void 0!==r&&!y)if(c&&r===o?.data&&t.select===this.#c)r=this.#o;else try{this.#c=t.select,r=t.select(r),r=(0,l.replaceData)(c?.data,r,t),this.#o=r,this.#t=null}catch(e){this.#t=e}this.#t&&(g=this.#t,r=this.#o,v=Date.now(),w="error");let j="fetching"===x.fetchStatus,k="pending"===w,N="error"===w,z=k&&j,R=void 0!==r,E={status:w,fetchStatus:x.fetchStatus,isPending:k,isSuccess:"success"===w,isError:N,isInitialLoading:z,isLoading:z,data:r,dataUpdatedAt:x.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:j,isRefetching:j&&!k,isLoadingError:N&&!R,isPaused:"paused"===x.fetchStatus,isPlaceholderData:b,isRefetchError:N&&R,isStale:m(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==E.data,r="error"===E.status&&!t,i=e=>{r?e.reject(E.error):t&&e.resolve(E.data)},a=()=>{i(this.#r=E.promise=(0,n.pendingThenable)())},l=this.#r;switch(l.status){case"pending":e.queryHash===s.queryHash&&i(l);break;case"fulfilled":(r||E.data!==l.value)&&a();break;case"rejected":r&&E.error===l.reason||a()}}return E}updateResult(){let e=this.#a,t=this.createResult(this.#s,this.options);if(this.#n=this.#s.state,this.#l=this.options,void 0!==this.#n.data&&(this.#d=this.#s),(0,l.shallowEqualObjects)(t,e))return;this.#a=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(t=>this.#a[t]!==e[t]&&s.has(t))};this.#k({listeners:r()})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#k(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,r){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&m(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,l.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&m(e,r)}function m(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(14595);var p=e.i(62311),f=e.i(36372);e.i(87155);var x=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),b=p.createContext(!1);b.Provider;var g=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v(e,t){return function(e,t,r){let i,a=p.useContext(b),n=p.useContext(x),c=(0,f.useQueryClient)(r),o=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let d=c.getQueryCache().get(o.queryHash);if(o._optimisticResults=a?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}i=d?.state.error&&"function"==typeof o.throwOnError?(0,l.shouldThrowError)(o.throwOnError,[d.state.error,d]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||i)&&!n.isReset()&&(o.retryOnMount=!1),p.useEffect(()=>{n.clearReset()},[n]);let u=!c.getQueryCache().get(o.queryHash),[h]=p.useState(()=>new t(c,o)),m=h.getOptimisticResult(o),v=!a&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=v?h.subscribe(s.notifyManager.batchCalls(e)):l.noop;return h.updateResult(),t},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(o)},[o,h]),o?.suspense&&m.isPending)throw g(o,h,n);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,l.shouldThrowError)(r,[e.error,s])))({result:m,errorResetBoundary:n,throwOnError:o.throwOnError,query:d,suspense:o.suspense}))throw m.error;if(c.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!l.isServer&&m.isLoading&&m.isFetching&&!a){let e=u?g(o,h,n):d?.promise;e?.catch(l.noop).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?m:h.trackResult(m)}(e,o,t)}e.s(["useQuery",()=>v],53320)},87200,e=>{"use strict";var t=e.i(87155);function r({className:e}){return(0,t.jsx)("div",{className:`bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse ${e}`})}function s(){return(0,t.jsxs)("div",{className:"flex flex-row w-full mb-4 bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-md overflow-hidden shadow-sm",children:[(0,t.jsx)("div",{className:"relative w-24 md:w-32 shrink-0 bg-zinc-200 dark:bg-zinc-900 animate-pulse aspect-[2/3]"}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col p-4 min-w-0 relative gap-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(r,{className:"h-3 w-20 rounded-full"}),(0,t.jsx)(r,{className:"h-5 w-5 rounded-md"})," "]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(r,{className:"h-6 w-3/4 md:w-1/2 rounded-md"}),(0,t.jsx)(r,{className:"h-3 w-12 rounded-full"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(r,{className:"h-4 w-10 rounded-full"}),(0,t.jsx)(r,{className:"h-4 w-16 rounded-full"}),(0,t.jsx)(r,{className:"h-5 w-16 -space-x-2 rounded-full"})," "]}),(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,t.jsx)(r,{className:"h-3 w-full"}),(0,t.jsx)(r,{className:"h-3 w-5/6"})]}),(0,t.jsx)("div",{className:"mt-auto pt-1",children:(0,t.jsx)(r,{className:"h-3 w-24 rounded-full"})})]})]})}function i(){return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto pb-20",children:[(0,t.jsx)(s,{}),(0,t.jsx)(s,{}),(0,t.jsx)(s,{}),(0,t.jsx)(s,{})]})}function a(){return(0,t.jsxs)("div",{className:"flex w-full h-32 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"relative w-24 sm:w-32 shrink-0 bg-zinc-100 dark:bg-zinc-950/50 border-r border-zinc-100 dark:border-zinc-800 animate-pulse"}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col p-3 sm:p-4 min-w-0 justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r,{className:"h-5 w-3/4 rounded-md"})," ",(0,t.jsx)(r,{className:"h-3 w-full rounded-sm"})," ",(0,t.jsx)(r,{className:"h-3 w-2/3 rounded-sm"}),"  "]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,t.jsx)(r,{className:"h-4 w-16 rounded-full"})," ",(0,t.jsx)(r,{className:"h-3 w-10 rounded-full"})," "]})]})]})}function n(){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(a,{}),(0,t.jsx)(a,{}),(0,t.jsx)(a,{}),(0,t.jsx)(a,{})]})}function l(){return(0,t.jsxs)("div",{className:"w-full max-w-5xl mx-auto md:px-8 py-8 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-baseline justify-between gap-8 mb-10 md:mb-12 px-4 md:px-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 w-full",children:[(0,t.jsx)("div",{className:"h-10 md:h-14 w-48 md:w-80 bg-zinc-200 dark:bg-zinc-800 rounded-md"}),(0,t.jsx)("div",{className:"flex-grow h-px border-t-2 border-dotted border-zinc-200 dark:border-zinc-800 opacity-60"})]}),(0,t.jsx)("div",{className:"h-12 md:h-20 w-16 md:w-24 bg-zinc-200 dark:bg-zinc-800 rounded-md shrink-0"})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4 md:gap-8 lg:gap-10 justify-items-center px-4 md:px-0",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"aspect-[2/3] w-full rounded-sm bg-zinc-200 dark:bg-zinc-800 mb-3 shadow-sm"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-3/4 bg-zinc-200 dark:bg-zinc-800 rounded-sm"}),(0,t.jsx)("div",{className:"h-3 w-1/2 bg-zinc-200 dark:bg-zinc-800 rounded-sm"})]})]},e))})]})}function c(){return(0,t.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"relative aspect-[16/9] bg-zinc-200 dark:bg-zinc-900 animate-pulse"}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 p-4 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"h-3 w-24 bg-zinc-200 dark:bg-zinc-800 rounded-full animate-pulse"}),(0,t.jsx)("div",{className:"h-5 w-5 bg-zinc-200 dark:bg-zinc-800 rounded-full animate-pulse"})]}),(0,t.jsx)("div",{className:"h-7 w-11/12 bg-zinc-200 dark:bg-zinc-800 rounded-md animate-pulse"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 w-full bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-5/6 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-4/6 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"})]}),(0,t.jsxs)("div",{className:"mt-auto pt-3 flex items-center gap-4 border-t border-zinc-100 dark:border-zinc-900/50",children:[(0,t.jsx)("div",{className:"h-3 w-8 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-8 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"ml-auto h-3 w-12 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"})]})]})]})}e.s(["PodiumSkeleton",()=>l,"PostCardSkeleton",()=>c,"ProfileListsSkeletonGrid",()=>n,"TimelineSkeletonList",()=>i])},83763,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))});e.s(["ArchiveBoxXMarkIcon",0,r],83763)},29019,30700,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))});e.s(["EllipsisHorizontalIcon",0,r],29019);let s=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});e.s(["PencilIcon",0,s],30700)},31253,e=>{e.v({className:"inter_b2ffe814-module__P0RONa__className"})},85447,e=>{e.v({className:"dm_serif_display_dd285013-module__nkJ3tG__className"})},88238,e=>{"use strict";var t=e.i(87155),r=e.i(53320),s=e.i(12313);let i=async e=>{let t=(0,s.createClient)(),{data:r,error:i}=await t.from("posts").select(`
            *,
            author:profiles!posts_author_id_fkey!inner(username, display_name, profile_pic_url),
            movie:movies(title, poster_url, release_date),
            series:series(title, poster_url, release_date)
        `).eq("author.username",e).is("deleted_at",null).order("created_at",{ascending:!1});if(i)throw console.error("Supabase Posts Error:",JSON.stringify(i,null,2)),i;return(r||[]).map(e=>({...e,author:Array.isArray(e.author)?e.author[0]:e.author,movie:Array.isArray(e.movie)?e.movie[0]:e.movie,series:Array.isArray(e.series)?e.series[0]:e.series}))};var a=e.i(62311),n=e.i(30104),l=e.i(51588),c=e.i(84837),o=e.i(47257);let d=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"}))});var u=e.i(29019),h=e.i(30700),m=e.i(25424),p=e.i(45662),f=e.i(89448),x=e.i(31253);let b={className:x.default.className,style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"}};null!=x.default.variable&&(b.variable=x.default.variable);var g=e.i(85447);let v={className:g.default.className,style:{fontFamily:"'DM Serif Display', 'DM Serif Display Fallback'",fontWeight:400,fontStyle:"normal"}};function w({slug:e,postId:r}){let[s,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),o=async e=>{if(e.preventDefault(),e.stopPropagation(),!window.confirm("Delete this post permanently?"))return;c(!0);let t=await (0,f.deletePost)(r);t.success||(alert(t.error),c(!1))};return(0,t.jsxs)("div",{className:"   absolute top-3 right-3 z-30   opacity-100   md:opacity-0 md:group-hover:opacity-100   transition-opacity   ",children:[(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),i(!s)},"aria-label":"Post actions",className:"   p-2 rounded-full   bg-white/90 dark:bg-zinc-900/90 backdrop-blur   text-zinc-600 dark:text-zinc-300   shadow-sm hover:shadow   active:scale-95 transition   ",children:(0,t.jsx)(u.EllipsisHorizontalIcon,{className:"w-5 h-5"})}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),(0,t.jsxs)("div",{className:"   absolute right-0 mt-2 w-44   rounded-xl bg-white dark:bg-zinc-900   shadow-xl ring-1 ring-black/5 dark:ring-white/5   overflow-hidden z-20   ",children:[(0,t.jsxs)(n.default,{href:`/blog/${e}/edit`,onClick:e=>e.stopPropagation(),className:"   flex items-center gap-2 px-4 py-3 text-sm   text-zinc-700 dark:text-zinc-200   hover:bg-zinc-50 dark:hover:bg-zinc-800   ",children:[(0,t.jsx)(h.PencilIcon,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsxs)("button",{onClick:o,disabled:l,className:"   flex w-full items-center gap-2 px-4 py-3 text-sm   text-red-600   hover:bg-red-50 dark:hover:bg-red-900/20   ",children:[(0,t.jsx)(m.TrashIcon,{className:"w-4 h-4"}),l?"Deletingâ€¦":"Delete"]})]})]})]})}function y({post:e,isOwner:r}){let s=e.content_html?.replace(/<[^>]+>/g,"")||"",i=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(0,t.jsxs)("div",{className:`${b.className}
                group relative h-full rounded-2xl bg-white dark:bg-zinc-950
                border border-zinc-200/60 dark:border-zinc-800/60
                hover:shadow-lg hover:-translate-y-0.5
                transition-all duration-300 overflow-hidden`,children:[r&&(0,t.jsx)(w,{slug:e.slug,postId:e.id}),(0,t.jsxs)(n.default,{href:`/blog/${e.slug}`,className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"relative aspect-[2/1] bg-zinc-100 dark:bg-zinc-900",children:[e.banner_url?(0,t.jsx)(l.default,{src:e.banner_url,alt:e.title,fill:!0,className:"object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-zinc-300 dark:text-zinc-700 text-sm",children:"No cover image"}),(0,t.jsxs)("div",{className:"absolute top-3 left-3 flex gap-2",children:[e.is_premium&&(0,t.jsx)(p.PremiumBadge,{}),e.is_nsfw&&(0,t.jsx)(p.NsfwBadge,{}),e.has_spoilers&&(0,t.jsx)(p.SpoilerBadge,{})]})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 px-5 py-4",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-400 mb-2",children:i}),(0,t.jsx)("h2",{className:`${v.className}
                            text-lg font-normal text-zinc-900 dark:text-zinc-100
                            leading-snug line-clamp-2 mb-2`,children:e.title}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 line-clamp-3 mb-5",children:s}),(0,t.jsxs)("div",{className:"   mt-auto flex items-center gap-4 text-xs text-zinc-500   border-t border-zinc-100 dark:border-zinc-800 pt-3   ",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.HeartIcon,{className:"w-4 h-4"}),e.likes_count||0]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),e.comments_count||0]}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-1",children:[(0,t.jsx)(c.EyeIcon,{className:"w-4 h-4"}),e.view_count]})]})]})]})]})}null!=g.default.variable&&(v.variable=g.default.variable);var j=e.i(35991),k=e.i(83763),N=e.i(87200);function z({username:e,isOwnProfile:s}){let{data:a,isLoading:l}=(0,r.useQuery)({queryKey:["posts",e],queryFn:()=>i(e),staleTime:3e5});return l?(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto pt-8 px-4 md:px-3 pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("div",{className:"h-7 w-32 bg-zinc-200 dark:bg-zinc-800 rounded-md animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-24 bg-zinc-200 dark:bg-zinc-800 rounded-full animate-pulse"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>(0,t.jsx)(N.PostCardSkeleton,{},e))})]}):a&&0!==a.length?(0,t.jsxs)("div",{className:"w-full animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20 relative z-10 max-w-4xl mx-auto pt-8 px-4 md:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:["Posts (",a.length,")"]}),s&&(0,t.jsxs)(n.default,{href:"/blog/create",className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-full text-xs font-bold transition-transform active:scale-95 hover:opacity-90",children:[(0,t.jsx)(j.PencilSquareIcon,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Write Post"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:a.map(e=>(0,t.jsx)(y,{post:e,isOwner:s},e.id))})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl bg-zinc-50/50 dark:bg-zinc-900/20 max-w-4xl mx-auto mt-8 mx-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mb-4 text-zinc-400",children:(0,t.jsx)(k.ArchiveBoxXMarkIcon,{className:"w-8 h-8",strokeWidth:1.5})}),(0,t.jsx)("h3",{className:"text-sm font-bold text-zinc-900 dark:text-zinc-100",children:"No Posts Yet"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 mt-1 mb-6 max-w-xs text-center",children:s?"Share your thoughts with the world. Write your first review or essay.":`${e} hasn't published any posts.`}),s&&(0,t.jsxs)(n.default,{href:"/blog/create",className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-5 py-2.5 rounded-full text-xs font-bold hover:opacity-90 transition-opacity",children:[(0,t.jsx)(j.PencilSquareIcon,{className:"w-4 h-4"})," Write Post"]})]})}e.s(["default",()=>z],88238)}]);