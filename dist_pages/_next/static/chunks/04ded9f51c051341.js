(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15462,e=>{"use strict";var t=e.i(87155),r=e.i(62311),s=e.i(51588),i=e.i(30104),a=e.i(87229),n=e.i(2014),l=e.i(90425),c=e.i(77448),o=e.i(74236),d=e.i(92377),u=e.i(13600),h=e.i(88978),m=e.i(86625),p=e.i(43372),f=e.i(51913);function g({tmdbId:e,initialData:g,mediaType:x,isOpen:b,onClose:v}){let w=void 0!==b&&void 0!==v,[y,j]=(0,r.useState)(!1),[k,N]=(0,r.useState)(null),[R,z]=(0,r.useTransition)(),S=w?b:y;(0,r.useEffect)(()=>{S&&!k&&z(async()=>{try{if("movie"===x){let t=await (0,a.getMovieDetails)(e);N(t)}else if("tv"===x){let t=await (0,n.getSeriesDetails)(e);N(t)}else if("person"===x){let t=await (0,l.getPersonDetails)(e);N(t)}}catch(e){console.error("Failed to fetch details:",e)}})},[S,e,x,k]);let E=()=>{w&&v?v():j(!1)},C={...g,...k},I=k?.backdrop_path||C.backdrop_url,T=I?.startsWith("http")?I:I?`https://image.tmdb.org/t/p/original${I}`:C.poster_url,O="person"===x?`/discover/actor/${e}`:`/discover/${x}/${e}`,P="person"===x?C.biography||"No biography available.":C.overview||"No synopsis available.",_=(()=>{switch(x){case"movie":return{icon:o.FilmIcon,label:"Movie"};case"tv":return{icon:d.TvIcon,label:"Series"};case"person":return{icon:m.UserIcon,label:"Star"}}})();return(0,t.jsx)(t.Fragment,{children:S&&(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:E,children:(0,t.jsxs)("div",{className:"relative w-full max-w-lg overflow-hidden rounded-3xl bg-white dark:bg-zinc-900 shadow-2xl ring-1 ring-zinc-200 dark:ring-white/10 animate-in zoom-in-95 duration-300",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"relative h-48 sm:h-56 w-full bg-zinc-200 dark:bg-zinc-800",children:[(0,t.jsx)(s.default,{src:T||"/placeholder-backdrop.jpg",alt:"Backdrop",fill:!0,className:"object-cover opacity-60",unoptimized:!0}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/40 to-transparent dark:from-zinc-900 dark:via-zinc-900/40"}),(0,t.jsx)("button",{onClick:E,className:"absolute top-4 right-4 p-2 rounded-full bg-black/40 text-white hover:bg-black/60 backdrop-blur-md transition-colors z-10",children:(0,t.jsx)(c.XMarkIcon,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,t.jsxs)("span",{className:`
                                    inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide backdrop-blur-md border shadow-sm
                                    ${"movie"===x?"bg-blue-500/90 text-white border-blue-400/50 dark:bg-blue-500/20 dark:text-blue-100 dark:border-blue-500/30":""}
                                    ${"tv"===x?"bg-green-500/90 text-white border-green-400/50 dark:bg-green-500/20 dark:text-green-100 dark:border-green-500/30":""}
                                    ${"person"===x?"bg-purple-500/90 text-white border-purple-400/50 dark:bg-purple-500/20 dark:text-purple-100 dark:border-purple-500/30":""}
                                `,children:[(0,t.jsx)(_.icon,{className:"w-3 h-3"}),_.label]})})]}),(0,t.jsxs)("div",{className:"relative px-6 pb-6 -mt-12 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"shrink-0 relative w-24 h-36 rounded-lg overflow-hidden shadow-2xl ring-4 ring-white dark:ring-zinc-800 bg-zinc-200 dark:bg-zinc-800",children:(0,t.jsx)(s.default,{src:C.poster_url||"/placeholder.jpg",alt:"Poster",fill:!0,className:"object-cover",unoptimized:!0})}),(0,t.jsxs)("div",{className:"flex-1 pt-14",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white leading-tight mb-1 line-clamp-2",children:C.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,t.jsx)("span",{children:C.release_date||C.birthday||("person"===x?"Unknown":"")}),C.vote_average&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-zinc-400 dark:bg-zinc-600"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-amber-500 dark:text-yellow-500 font-bold",children:[(0,t.jsx)(h.StarIcon,{className:"w-3.5 h-3.5"}),C.vote_average.toFixed(1)]})]}),C.number_of_seasons&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-zinc-400 dark:bg-zinc-600"}),(0,t.jsxs)("span",{children:[C.number_of_seasons," Seasons"]})]}),"person"===x&&C.known_for_department&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-zinc-400 dark:bg-zinc-600"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-300",children:C.known_for_department})]})]}),"person"===x&&C.place_of_birth&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-zinc-500 mt-1",children:[(0,t.jsx)(p.MapPinIcon,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"truncate",children:C.place_of_birth})]})]})]}),(0,t.jsx)("div",{className:"min-h-[80px]",children:R?(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)(f.default,{})}):(0,t.jsx)("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 leading-relaxed line-clamp-3 whitespace-pre-line",children:P})}),!R&&"person"!==x&&C.genres&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[C.genres.slice(0,3).map(e=>(0,t.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-md bg-zinc-100 border border-zinc-200 text-zinc-600 dark:bg-white/5 dark:border-white/5 dark:text-zinc-300",children:e.name},e.id)),C.genres.length>3&&(0,t.jsxs)("span",{className:"text-xs px-2.5 py-1 text-zinc-500",children:["+",C.genres.length-3]})]}),(0,t.jsx)("div",{className:"mt-2 pt-4 border-t border-zinc-100 dark:border-white/5",children:(0,t.jsxs)(i.default,{href:O,className:"group w-full flex items-center justify-center gap-2 bg-zinc-900 text-white dark:bg-white dark:text-black font-bold py-3.5 rounded-xl hover:bg-zinc-700 dark:hover:bg-indigo-500 dark:hover:text-white transition-all duration-300",children:[(0,t.jsx)("span",{children:"person"===x?"Full Profile & Filmography":"Full Details & Cast"}),(0,t.jsx)(u.ArrowRightIcon,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})})}e.s(["default",()=>g])},90425,e=>{"use strict";var t=e.i(86788);let r=(0,t.createServerReference)("401eedccfe768d7030b1d49e8f092b2f44eaa41678",t.callServer,void 0,t.findSourceMapURL,"getPersonDetails");e.s(["getPersonDetails",()=>r])},92377,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{d:"M19.5 6h-15v9h15V6Z"}),t.createElement("path",{fillRule:"evenodd",d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v11.25C1.5 17.16 2.34 18 3.375 18H9.75v1.5H6A.75.75 0 0 0 6 21h12a.75.75 0 0 0 0-1.5h-3.75V18h6.375c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.839 21.66 3 20.625 3H3.375Zm0 13.5h17.25a.375.375 0 0 0 .375-.375V4.875a.375.375 0 0 0-.375-.375H3.375A.375.375 0 0 0 3 4.875v11.25c0 .207.168.375.375.375Z",clipRule:"evenodd"}))});e.s(["TvIcon",0,r],92377)},13600,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});e.s(["ArrowRightIcon",0,r],13600)},86625,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))});e.s(["UserIcon",0,r],86625)},43372,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))});e.s(["MapPinIcon",0,r],43372)},77448,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});e.s(["XMarkIcon",0,r],77448)},74236,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))});e.s(["FilmIcon",0,r],74236)},88978,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});e.s(["StarIcon",0,r],88978)},87229,e=>{"use strict";var t=e.i(86788);let r=(0,t.createServerReference)("402603549cdfd9882438516ae21e193481ebd6860c",t.callServer,void 0,t.findSourceMapURL,"getMovieDetails");e.s(["getMovieDetails",()=>r])},2014,e=>{"use strict";var t=e.i(86788);let r=(0,t.createServerReference)("40a5cd89d9bb290a544cbc62c297de5defda4be1ab",t.callServer,void 0,t.findSourceMapURL,"getSeriesDetails");e.s(["getSeriesDetails",()=>r])},13262,e=>{"use strict";var t=e.i(62311);let r=t.forwardRef(function({title:e,titleId:r,...s},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{d:"M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z"}),t.createElement("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z"}),t.createElement("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z"}))});e.s(["EyeSlashIcon",0,r],13262)},4405,e=>{"use strict";var t=e.i(87155),r=e.i(62311),s=e.i(13262);function i({children:e,isAdult:i,isSFW:a}){let[n,l]=(0,r.useState)(!1);return i&&a&&!n?(0,t.jsxs)("div",{className:"relative w-full h-full overflow-hidden rounded-md group",children:[(0,t.jsx)("div",{className:"blur-xl opacity-50 pointer-events-none select-none grayscale transition-opacity duration-500","aria-hidden":"true",children:e}),(0,t.jsxs)("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center p-4 text-center backdrop-blur-md transition-colors   bg-zinc-100/80 dark:bg-black/80   hover:bg-zinc-200/90 dark:hover:bg-black/90",children:[(0,t.jsx)(s.EyeSlashIcon,{className:"w-8 h-8 mb-2 text-zinc-500 dark:text-zinc-400"}),(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider mb-3 text-zinc-700 dark:text-zinc-300",children:"Explicit Content"}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),l(!0)},className:"px-4 py-1.5 text-xs font-bold rounded-full transition-transform active:scale-95 shadow-sm   bg-zinc-900 text-white hover:bg-zinc-700   dark:bg-white dark:text-black dark:hover:bg-zinc-200",children:"Show Anyway"})]})]}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>i])},53320,e=>{"use strict";let t;var r=e.i(82679),s=e.i(59864),i=e.i(59243),a=e.i(78889),n=e.i(57142),l=e.i(66271),c=e.i(5763),o=class extends a.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#a=void 0;#n;#l;#r;#t;#c;#o;#d;#u;#h;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),d(this.#s,this.options)?this.#f():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#b(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#s.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#f(),this.updateResult(),s&&(this.#s!==r||(0,l.resolveEnabled)(this.options.enabled,this.#s)!==(0,l.resolveEnabled)(t.enabled,this.#s)||(0,l.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,l.resolveStaleTime)(t.staleTime,this.#s))&&this.#w();let i=this.#y();s&&(this.#s!==r||(0,l.resolveEnabled)(this.options.enabled,this.#s)!==(0,l.resolveEnabled)(t.enabled,this.#s)||i!==this.#m)&&this.#j(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,l.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#a=i,this.#l=this.options,this.#n=this.#s.state),i}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#v();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#w(){this.#x();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#s);if(l.isServer||this.#a.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#a.dataUpdatedAt,e);this.#u=c.timeoutManager.setTimeout(()=>{this.#a.isStale||this.updateResult()},t+1)}#y(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#j(e){this.#b(),this.#m=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#s)&&(0,l.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=c.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#f()},this.#m))}#g(){this.#w(),this.#j(this.#y())}#x(){this.#u&&(c.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#b(){this.#h&&(c.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,a=this.options,c=this.#a,o=this.#n,u=this.#l,p=e!==s?e.state:this.#i,{state:f}=e,g={...f},x=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&d(e,t),l=r&&h(e,s,t,a);(n||l)&&(g={...g,...(0,i.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:w}=g;r=g.data;let y=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===w){let e;c?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=c.data,y=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,void 0!==e&&(w="success",r=(0,l.replaceData)(c?.data,e,t),x=!0)}if(t.select&&void 0!==r&&!y)if(c&&r===o?.data&&t.select===this.#c)r=this.#o;else try{this.#c=t.select,r=t.select(r),r=(0,l.replaceData)(c?.data,r,t),this.#o=r,this.#t=null}catch(e){this.#t=e}this.#t&&(b=this.#t,r=this.#o,v=Date.now(),w="error");let j="fetching"===g.fetchStatus,k="pending"===w,N="error"===w,R=k&&j,z=void 0!==r,S={status:w,fetchStatus:g.fetchStatus,isPending:k,isSuccess:"success"===w,isError:N,isInitialLoading:R,isLoading:R,data:r,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:j,isRefetching:j&&!k,isLoadingError:N&&!z,isPaused:"paused"===g.fetchStatus,isPlaceholderData:x,isRefetchError:N&&z,isStale:m(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==S.data,r="error"===S.status&&!t,i=e=>{r?e.reject(S.error):t&&e.resolve(S.data)},a=()=>{i(this.#r=S.promise=(0,n.pendingThenable)())},l=this.#r;switch(l.status){case"pending":e.queryHash===s.queryHash&&i(l);break;case"fulfilled":(r||S.data!==l.value)&&a();break;case"rejected":r&&S.error===l.reason||a()}}return S}updateResult(){let e=this.#a,t=this.createResult(this.#s,this.options);if(this.#n=this.#s.state,this.#l=this.options,void 0!==this.#n.data&&(this.#d=this.#s),(0,l.shallowEqualObjects)(t,e))return;this.#a=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(t=>this.#a[t]!==e[t]&&s.has(t))};this.#k({listeners:r()})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#k(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,r){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&m(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,l.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&m(e,r)}function m(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(14595);var p=e.i(62311),f=e.i(36372);e.i(87155);var g=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),x=p.createContext(!1);x.Provider;var b=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v(e,t){return function(e,t,r){let i,a=p.useContext(x),n=p.useContext(g),c=(0,f.useQueryClient)(r),o=c.defaultQueryOptions(e);c.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let d=c.getQueryCache().get(o.queryHash);if(o._optimisticResults=a?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}i=d?.state.error&&"function"==typeof o.throwOnError?(0,l.shouldThrowError)(o.throwOnError,[d.state.error,d]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||i)&&!n.isReset()&&(o.retryOnMount=!1),p.useEffect(()=>{n.clearReset()},[n]);let u=!c.getQueryCache().get(o.queryHash),[h]=p.useState(()=>new t(c,o)),m=h.getOptimisticResult(o),v=!a&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=v?h.subscribe(s.notifyManager.batchCalls(e)):l.noop;return h.updateResult(),t},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(o)},[o,h]),o?.suspense&&m.isPending)throw b(o,h,n);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,l.shouldThrowError)(r,[e.error,s])))({result:m,errorResetBoundary:n,throwOnError:o.throwOnError,query:d,suspense:o.suspense}))throw m.error;if(c.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!l.isServer&&m.isLoading&&m.isFetching&&!a){let e=u?b(o,h,n):d?.promise;e?.catch(l.noop).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?m:h.trackResult(m)}(e,o,t)}e.s(["useQuery",()=>v],53320)},87200,e=>{"use strict";var t=e.i(87155);function r({className:e}){return(0,t.jsx)("div",{className:`bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse ${e}`})}function s(){return(0,t.jsxs)("div",{className:"flex flex-row w-full mb-4 bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-md overflow-hidden shadow-sm",children:[(0,t.jsx)("div",{className:"relative w-24 md:w-32 shrink-0 bg-zinc-200 dark:bg-zinc-900 animate-pulse aspect-[2/3]"}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col p-4 min-w-0 relative gap-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(r,{className:"h-3 w-20 rounded-full"}),(0,t.jsx)(r,{className:"h-5 w-5 rounded-md"})," "]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(r,{className:"h-6 w-3/4 md:w-1/2 rounded-md"}),(0,t.jsx)(r,{className:"h-3 w-12 rounded-full"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(r,{className:"h-4 w-10 rounded-full"}),(0,t.jsx)(r,{className:"h-4 w-16 rounded-full"}),(0,t.jsx)(r,{className:"h-5 w-16 -space-x-2 rounded-full"})," "]}),(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,t.jsx)(r,{className:"h-3 w-full"}),(0,t.jsx)(r,{className:"h-3 w-5/6"})]}),(0,t.jsx)("div",{className:"mt-auto pt-1",children:(0,t.jsx)(r,{className:"h-3 w-24 rounded-full"})})]})]})}function i(){return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto pb-20",children:[(0,t.jsx)(s,{}),(0,t.jsx)(s,{}),(0,t.jsx)(s,{}),(0,t.jsx)(s,{})]})}function a(){return(0,t.jsxs)("div",{className:"flex w-full h-32 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"relative w-24 sm:w-32 shrink-0 bg-zinc-100 dark:bg-zinc-950/50 border-r border-zinc-100 dark:border-zinc-800 animate-pulse"}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col p-3 sm:p-4 min-w-0 justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r,{className:"h-5 w-3/4 rounded-md"})," ",(0,t.jsx)(r,{className:"h-3 w-full rounded-sm"})," ",(0,t.jsx)(r,{className:"h-3 w-2/3 rounded-sm"}),"  "]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,t.jsx)(r,{className:"h-4 w-16 rounded-full"})," ",(0,t.jsx)(r,{className:"h-3 w-10 rounded-full"})," "]})]})]})}function n(){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(a,{}),(0,t.jsx)(a,{}),(0,t.jsx)(a,{}),(0,t.jsx)(a,{})]})}function l(){return(0,t.jsxs)("div",{className:"w-full max-w-5xl mx-auto md:px-8 py-8 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-baseline justify-between gap-8 mb-10 md:mb-12 px-4 md:px-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 w-full",children:[(0,t.jsx)("div",{className:"h-10 md:h-14 w-48 md:w-80 bg-zinc-200 dark:bg-zinc-800 rounded-md"}),(0,t.jsx)("div",{className:"flex-grow h-px border-t-2 border-dotted border-zinc-200 dark:border-zinc-800 opacity-60"})]}),(0,t.jsx)("div",{className:"h-12 md:h-20 w-16 md:w-24 bg-zinc-200 dark:bg-zinc-800 rounded-md shrink-0"})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4 md:gap-8 lg:gap-10 justify-items-center px-4 md:px-0",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"aspect-[2/3] w-full rounded-sm bg-zinc-200 dark:bg-zinc-800 mb-3 shadow-sm"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-3/4 bg-zinc-200 dark:bg-zinc-800 rounded-sm"}),(0,t.jsx)("div",{className:"h-3 w-1/2 bg-zinc-200 dark:bg-zinc-800 rounded-sm"})]})]},e))})]})}function c(){return(0,t.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"relative aspect-[16/9] bg-zinc-200 dark:bg-zinc-900 animate-pulse"}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 p-4 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"h-3 w-24 bg-zinc-200 dark:bg-zinc-800 rounded-full animate-pulse"}),(0,t.jsx)("div",{className:"h-5 w-5 bg-zinc-200 dark:bg-zinc-800 rounded-full animate-pulse"})]}),(0,t.jsx)("div",{className:"h-7 w-11/12 bg-zinc-200 dark:bg-zinc-800 rounded-md animate-pulse"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 w-full bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-5/6 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-4/6 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"})]}),(0,t.jsxs)("div",{className:"mt-auto pt-3 flex items-center gap-4 border-t border-zinc-100 dark:border-zinc-900/50",children:[(0,t.jsx)("div",{className:"h-3 w-8 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-8 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"}),(0,t.jsx)("div",{className:"ml-auto h-3 w-12 bg-zinc-200 dark:bg-zinc-800 rounded animate-pulse"})]})]})]})}e.s(["PodiumSkeleton",()=>l,"PostCardSkeleton",()=>c,"ProfileListsSkeletonGrid",()=>n,"TimelineSkeletonList",()=>i])},48652,e=>{"use strict";let t;var r=e.i(14595);let s=(t=0,()=>(t+=1,`u${`0000${(1679616*Math.random()|0).toString(36)}`.slice(-4)}${t}`));function i(e){let t=[];for(let r=0,s=e.length;r<s;r++)t.push(e[r]);return t}let a=null;function n(e={}){return a||(a=e.includeStyleProperties?e.includeStyleProperties:i(window.getComputedStyle(document.documentElement)))}function l(e,t){let r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function c(e,t={}){let r,s,i,a;return{width:t.width||(r=l(e,"border-left-width"),s=l(e,"border-right-width"),e.clientWidth+r+s),height:t.height||(i=l(e,"border-top-width"),a=l(e,"border-bottom-width"),e.clientHeight+i+a)}}function o(e){return new Promise((t,r)=>{let s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>t(s))})},s.onerror=r,s.crossOrigin="anonymous",s.decoding="async",s.src=e})}async function d(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function u(e,t,r){let s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${t} ${r}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),d(i)}let h=(e,t)=>{if(e instanceof t)return!0;let r=Object.getPrototypeOf(e);return null!==r&&(r.constructor.name===t.name||h(r,t))};function m(e,t,r,i){let a,l,c,o=window.getComputedStyle(e,r),d=o.getPropertyValue("content");if(""===d||"none"===d)return;let u=s();try{t.className=`${t.className} ${u}`}catch(e){return}let h=document.createElement("style");h.appendChild((a=`.${u}:${r}`,c=o.cssText?(l=o.getPropertyValue("content"),`${o.cssText} content: '${l.replace(/'|"/g,"")}';`):n(i).map(e=>{let t=o.getPropertyValue(e),r=o.getPropertyPriority(e);return`${e}: ${t}${r?" !important":""};`}).join(" "),document.createTextNode(`${a}{${c}}`))),t.appendChild(h)}let p="application/font-woff",f="image/jpeg",g={woff:p,woff2:p,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:f,jpeg:f,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function x(e){let t;return g[((t=/\.([^./]*?)$/g.exec(e))?t[1]:"").toLowerCase()]||""}function b(e){return -1!==e.search(/^(data:)/)}function v(e,t){return`data:${t};base64,${e}`}async function w(e,t,r){let s=await fetch(e,t);if(404===s.status)throw Error(`Resource "${s.url}" not found`);let i=await s.blob();return new Promise((e,t)=>{let a=new FileReader;a.onerror=t,a.onloadend=()=>{try{e(r({res:s,result:a.result}))}catch(e){t(e)}},a.readAsDataURL(i)})}let y={};async function j(e,t,r){var s,i,a;let n,l,c=(s=e,i=t,a=r.includeQueryParams,l=s.replace(/\?.*/,""),a&&(l=s),/ttf|otf|eot|woff2?/i.test(l)&&(l=l.replace(/.*\//,"")),i?`[${i}]${l}`:l);if(null!=y[c])return y[c];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());try{let s=await w(e,r.fetchRequestInit,({res:e,result:r})=>(t||(t=e.headers.get("Content-Type")||""),r.split(/,/)[1]));n=v(s,t)}catch(s){n=r.imagePlaceholder||"";let t=`Failed to fetch resource: ${e}`;s&&(t="string"==typeof s?s:s.message),t&&console.warn(t)}return y[c]=n,n}async function k(e){let t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):o(t)}async function N(e,t){if(e.currentSrc){let t=document.createElement("canvas"),r=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==r||r.drawImage(e,0,0,t.width,t.height),o(t.toDataURL())}let r=e.poster,s=x(r);return o(await j(r,s,t))}async function R(e,t){var r;try{if(null==(r=null==e?void 0:e.contentDocument)?void 0:r.body)return await I(e.contentDocument.body,t,!0)}catch(e){}return e.cloneNode(!1)}async function z(e,t){return h(e,HTMLCanvasElement)?k(e):h(e,HTMLVideoElement)?N(e,t):h(e,HTMLIFrameElement)?R(e,t):e.cloneNode(S(e))}let S=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();async function E(e,t,r){var s,a;if(S(t))return t;let n=[];return 0===(n=null!=e.tagName&&"SLOT"===e.tagName.toUpperCase()&&e.assignedNodes?i(e.assignedNodes()):h(e,HTMLIFrameElement)&&(null==(s=e.contentDocument)?void 0:s.body)?i(e.contentDocument.body.childNodes):i((null!=(a=e.shadowRoot)?a:e).childNodes)).length||h(e,HTMLVideoElement)||await n.reduce((e,s)=>e.then(()=>I(s,r)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}async function C(e,t){let r=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===r.length)return e;let s={};for(let i=0;i<r.length;i++){let a=r[i].getAttribute("xlink:href");if(a){let r=e.querySelector(a),i=document.querySelector(a);r||!i||s[a]||(s[a]=await I(i,t,!0))}}let i=Object.values(s);if(i.length){let t="http://www.w3.org/1999/xhtml",r=document.createElementNS(t,"svg");r.setAttribute("xmlns",t),r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.overflow="hidden",r.style.display="none";let s=document.createElementNS(t,"defs");r.appendChild(s);for(let e=0;e<i.length;e++)s.appendChild(i[e]);e.appendChild(r)}return e}async function I(e,t,r){return r||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>z(e,t)).then(r=>E(e,r,t)).then(r=>(function(e,t,r){if(h(t,Element)&&(!function(e,t,r){let s=t.style;if(!s)return;let i=window.getComputedStyle(e);i.cssText?(s.cssText=i.cssText,s.transformOrigin=i.transformOrigin):n(r).forEach(r=>{let a=i.getPropertyValue(r);if("font-size"===r&&a.endsWith("px")){let e=Math.floor(parseFloat(a.substring(0,a.length-2)))-.1;a=`${e}px`}h(e,HTMLIFrameElement)&&"display"===r&&"inline"===a&&(a="block"),"d"===r&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),s.setProperty(r,a,i.getPropertyPriority(r))})}(e,t,r),m(e,t,":before",r),m(e,t,":after",r),h(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),h(e,HTMLInputElement)&&t.setAttribute("value",e.value),h(e,HTMLSelectElement))){let r=Array.from(t.children).find(t=>e.value===t.getAttribute("value"));r&&r.setAttribute("selected","")}return t})(e,r,t)).then(e=>C(e,t)):null}let T=/url\((['"]?)([^'"]+?)\1\)/g,O=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,P=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function _(e,t,r,s,i){try{let a,n,l=r?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let r=document.implementation.createHTMLDocument(),s=r.createElement("base"),i=r.createElement("a");return r.head.appendChild(s),r.body.appendChild(i),t&&(s.href=t),i.href=e,i.href}(t,r):t,c=x(t);if(i){let e=await i(l);a=v(e,c)}else a=await j(l,c,s);return e.replace((n=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")),`$1${a}$3`)}catch(e){}return e}function M(e){return -1!==e.search(T)}async function Q(e,t,r){let s;if(!M(e))return e;let i=function(e,{preferredFontFormat:t}){return t?e.replace(P,e=>{for(;;){let[r,,s]=O.exec(e)||[];if(!s)return"";if(s===t)return`src: ${r};`}}):e}(e,r);return(s=[],i.replace(T,(e,t,r)=>(s.push(r),e)),s.filter(e=>!b(e))).reduce((e,s)=>e.then(e=>_(e,s,t,r)),Promise.resolve(i))}async function $(e,t,r){var s;let i=null==(s=t.style)?void 0:s.getPropertyValue(e);if(i){let s=await Q(i,null,r);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function F(e,t){await $("background",e,t)||await $("background-image",e,t),await $("mask",e,t)||await $("-webkit-mask",e,t)||await $("mask-image",e,t)||await $("-webkit-mask-image",e,t)}async function A(e,t){let r=h(e,HTMLImageElement);if(!(r&&!b(e.src))&&!(h(e,SVGImageElement)&&!b(e.href.baseVal)))return;let s=r?e.src:e.href.baseVal,i=await j(s,x(s),t);await new Promise((s,a)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...e)=>{try{s(t.onImageErrorHandler(...e))}catch(e){a(e)}}:a,e.decode&&(e.decode=s),"lazy"===e.loading&&(e.loading="eager"),r?(e.srcset="",e.src=i):e.href.baseVal=i})}async function D(e,t){let r=i(e.childNodes).map(e=>L(e,t));await Promise.all(r).then(()=>e)}async function L(e,t){h(e,Element)&&(await F(e,t),await A(e,t),await D(e,t))}let U={};async function H(e){let t=U[e];if(null!=t)return t;let r=await fetch(e);return t={url:e,cssText:await r.text()},U[e]=t,t}async function Z(e,t){let r=e.cssText,s=/url\(["']?([^"')]+)["']?\)/g;return Promise.all((r.match(/url\([^)]+\)/g)||[]).map(async i=>{let a=i.replace(s,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),w(a,t.fetchRequestInit,({result:e})=>(r=r.replace(i,`url(${e})`),[i,e]))})).then(()=>r)}function V(e){if(null==e)return[];let t=[],r=e.replace(/(\/\*[\s\S]*?\*\/)/gi,""),s=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let e=s.exec(r);if(null===e)break;t.push(e[0])}r=r.replace(s,"");let i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=i.exec(r);if(null===e){if(null===(e=a.exec(r)))break;i.lastIndex=a.lastIndex}else a.lastIndex=i.lastIndex;t.push(e[0])}return t}async function q(e,t){let r=[],s=[];return e.forEach(r=>{if("cssRules"in r)try{i(r.cssRules||[]).forEach((e,i)=>{if(e.type===CSSRule.IMPORT_RULE){let a=i+1,n=e.href,l=H(n).then(e=>Z(e,t)).then(e=>V(e).forEach(e=>{try{r.insertRule(e,e.startsWith("@import")?a+=1:r.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});s.push(l)}})}catch(a){let i=e.find(e=>null==e.href)||document.styleSheets[0];null!=r.href&&s.push(H(r.href).then(e=>Z(e,t)).then(e=>V(e).forEach(e=>{i.insertRule(e,i.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",a)}}),Promise.all(s).then(()=>(e.forEach(e=>{if("cssRules"in e)try{i(e.cssRules||[]).forEach(e=>{r.push(e)})}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}}),r))}async function B(e,t){if(null==e.ownerDocument)throw Error("Provided element is not within a Document");let r=i(e.ownerDocument.styleSheets);return(await q(r,t)).filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>M(e.style.getPropertyValue("src")))}function W(e){return e.trim().replace(/["']/g,"")}async function G(e,t){let r,s=await B(e,t),i=(r=new Set,!function e(t){(t.style.fontFamily||getComputedStyle(t).fontFamily).split(",").forEach(e=>{r.add(W(e))}),Array.from(t.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),r);return(await Promise.all(s.filter(e=>i.has(W(e.style.fontFamily))).map(e=>{let r=e.parentStyleSheet?e.parentStyleSheet.href:null;return Q(e.cssText,r,t)}))).join("\n")}async function K(e,t){let r=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await G(e,t);if(r){let t=document.createElement("style"),s=document.createTextNode(r);t.appendChild(s),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function X(e,t={}){let{width:r,height:s}=c(e,t),i=await I(e,t,!0);return await K(i,t),await L(i,t),!function(e,t){let{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);let s=t.style;null!=s&&Object.keys(s).forEach(e=>{r[e]=s[e]})}(i,t),await u(i,r,s)}async function Y(e,t={}){let{width:s,height:i}=c(e,t),a=await X(e,t),n=await o(a),l=document.createElement("canvas"),d=l.getContext("2d"),u=t.pixelRatio||function(){let e,t;try{t=r.default}catch(e){}let s=t&&t.env?t.env.devicePixelRatio:null;return s&&Number.isNaN(e=parseInt(s,10))&&(e=1),e||window.devicePixelRatio||1}(),h=t.canvasWidth||s,m=t.canvasHeight||i;return l.width=h*u,l.height=m*u,!t.skipAutoScale&&(l.width>16384||l.height>16384)&&(l.width>16384&&l.height>16384?l.width>l.height?(l.height*=16384/l.width,l.width=16384):(l.width*=16384/l.height,l.height=16384):l.width>16384?(l.height*=16384/l.width,l.width=16384):(l.width*=16384/l.height,l.height=16384)),l.style.width=`${h}`,l.style.height=`${m}`,t.backgroundColor&&(d.fillStyle=t.backgroundColor,d.fillRect(0,0,l.width,l.height)),d.drawImage(n,0,0,l.width,l.height),l}async function J(e,t={}){return(await Y(e,t)).toDataURL()}e.s(["toPng",()=>J],48652)},64280,e=>{"use strict";var t=e.i(87155),r=e.i(62311),s=e.i(30104),i=e.i(53320),a=e.i(12313);let n=async e=>{let t=(0,a.createClient)(),{data:r,error:s}=await t.from("profile_sections").select(`
            *,
            user:profiles!inner(username),
            items:section_items(
                *,
                movie:movies(*),
                series:series(*),
                person:people(*)
            )
        `).eq("user.username",e).order("rank",{ascending:!0});if(s)throw s;return r};var l=e.i(54552),c=e.i(51588),o=e.i(15462);function d({item:e,rank:s}){let[i,a]=(0,r.useState)(!1),n="person"===e.type,d="movie"===e.type,u=e.tmdbId?Number(e.tmdbId):Number(e.id),h=`${e.subtitle} â€¢ ${d?"Film":n?"Star":"TV"}`,m={tmdb_id:u||0,title:e.title,release_date:e.subtitle,poster_url:e.image_url,backdrop_url:e.image_url},p=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative aspect-[2/3] w-full rounded-sm overflow-hidden bg-zinc-100 dark:bg-zinc-900 shadow-sm transition-all duration-500 group-hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.3)] dark:group-hover:shadow-[0_20px_40px_-15px_rgba(255,255,255,0.1)]",children:[(0,t.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,t.jsx)("div",{className:"flex items-center justify-center w-6 h-6 md:w-7 md:h-7 rounded-full bg-white/90 dark:bg-black/60 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-sm",children:(0,t.jsxs)("span",{className:"font-mono text-[10px] md:text-[11px] font-bold text-zinc-900 dark:text-zinc-100",children:["#",s]})})}),e.image_url?(0,t.jsx)(c.default,{src:e.image_url,alt:e.title,fill:!0,className:"object-cover transition-transform duration-700 ease-out group-hover:scale-105",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 25vw, 300px"}):(0,t.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center text-zinc-400 bg-zinc-50 dark:bg-zinc-900",children:(0,t.jsx)("span",{className:"text-[9px] uppercase font-bold tracking-widest opacity-50",children:"No Image"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 dark:group-hover:bg-white/5 transition-colors duration-300"}),(0,t.jsx)("div",{className:"absolute inset-0 border border-black/5 dark:border-white/10 rounded-sm pointer-events-none"})]}),(0,t.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,t.jsx)("h3",{className:"text-sm md:text-[15px] font-bold leading-tight text-zinc-900 dark:text-zinc-100 line-clamp-1 group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-[11px] md:text-xs font-medium text-zinc-500 dark:text-zinc-400 truncate",children:h})]})]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.motion.div,{className:"group relative w-full md:max-w-[280px] mx-auto flex-shrink-0 z-0 hover:z-20",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.4},children:(0,t.jsx)("div",{onClick:()=>{console.log("Opening Card. TMDB ID:",u,"Original Item:",e),a(!0)},className:"block w-full cursor-pointer",children:p})}),(0,t.jsx)(o.default,{tmdbId:isNaN(u)?0:u,mediaType:e.type,initialData:m,isOpen:i,onClose:()=>a(!1)})]})}var u=e.i(4405),h=e.i(15519),m=e.i(87200),p=e.i(48652);function f({username:e,isOwnProfile:l}){let{data:c,isLoading:o}=(0,i.useQuery)({queryKey:["profile-home",e],queryFn:()=>n(e),staleTime:6e5}),[f,g]=(0,r.useState)(!0),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{let e=(0,a.createClient)(),{data:{user:t}}=await e.auth.getUser();g("sfw"===(t?.user_metadata?.content_preference||"sfw"))})()},[]);let b=(0,r.useCallback)(async()=>{if(x.current)try{let t=await (0,p.toPng)(x.current,{cacheBust:!0,pixelRatio:2,backgroundColor:"#09090b",style:{padding:"40px",borderRadius:"12px"}}),r=document.createElement("a");r.download=`${e}-podium.png`,r.href=t,r.click()}catch(e){console.error("Oops, something went wrong!",e)}},[e]);return o?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(m.PodiumSkeleton,{}),(0,t.jsx)("p",{className:"text-zinc-400 text-sm",children:"Loading Podium..."})]}):c&&0!==c.length?(0,t.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,t.jsx)("div",{className:"flex justify-end px-4 md:px-0",children:(0,t.jsxs)("button",{onClick:b,className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:[(0,t.jsx)(h.MdShare,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Share Snapshot"})]})}),(0,t.jsx)("div",{ref:x,className:"flex flex-col gap-18 md:gap-32 bg-white dark:bg-black md:p-8 rounded-xl",children:c.map((e,r)=>(0,t.jsxs)("section",{className:"max-w-5xl mx-auto md:px-8 w-full",children:[(0,t.jsx)("div",{className:"mb-10 md:mb-12",children:(0,t.jsxs)("div",{className:"flex items-baseline gap-4 md:gap-8",children:[(0,t.jsx)("div",{className:"flex flex-col w-full",children:(0,t.jsxs)("div",{className:"flex items-center gap-6 w-full",children:[(0,t.jsx)("h2",{className:"text-3xl md:text-5xl lg:text-6xl font-thin font-semibold tracking-tight text-zinc-900 dark:text-zinc-100 leading-tight",children:e.title}),(0,t.jsx)("div",{className:"flex-grow h-px bg-zinc-300/60 dark:bg-zinc-700/60 mt-4"})]})}),(0,t.jsx)("span",{className:"text-5xl md:text-8xl font-black tracking-tighter opacity-30 select-none leading-none",children:String(r+1).padStart(2,"0")})]})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2.5 md:gap-8 lg:gap-10 justify-items-center",children:e.items.map(e=>{var r;let s,i,a,n=(s=(r=e).item_type,(a=Array.isArray(i=r.movie||r.series||r.person)?i[0]:i)?{id:r.id,tmdbId:a.tmdb_id,title:a.title||a.name,image_url:a.poster_url||a.profile_path?`https://image.tmdb.org/t/p/w500${a.poster_url||a.profile_path}`:null,subtitle:"person"===s?a.known_for_department:a.release_date?new Date(a.release_date).getFullYear().toString():"",type:s,adult:!0===a.adult}:null);return n?(0,t.jsxs)("div",{className:"w-full relative group/card",children:[(0,t.jsx)(u.default,{isAdult:n.adult,isSFW:f,children:(0,t.jsx)(d,{item:n,rank:e.rank})}),n.adult&&(0,t.jsx)("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-red-600 shadow-sm pointer-events-none z-20 opacity-50"})]},e.id):null})})]},e.id))})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,t.jsx)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900/50 rounded-full mb-6 border border-zinc-100 dark:border-zinc-800",children:l?(0,t.jsx)(h.MdOutlineLeaderboard,{className:"w-8 h-8 text-zinc-400"}):(0,t.jsx)(h.MdOutlineSentimentDissatisfied,{className:"w-8 h-8 text-zinc-400"})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:l?"The Podium is Empty":"No Ranks Yet"}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 max-w-sm mb-8 leading-relaxed",children:l?"Start building your personal hall of fame. Add movies, shows, or people to showcase your taste.":`${e} hasn't added any sections to their podium yet.`}),l&&(0,t.jsxs)(s.default,{href:"/profile/edit",className:"group flex items-center gap-2 px-6 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-full text-sm font-bold transition-all hover:bg-zinc-800 dark:hover:bg-white hover:scale-105",children:[(0,t.jsx)(h.MdAdd,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Customize Podium"})]})]})}e.s(["default",()=>f],64280)}]);