(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89448,e=>{"use strict";var t=e.i(86788);let a=(0,t.createServerReference)("404027ac4c5756e9197c0c675f5cf62efd8da1160e",t.callServer,void 0,t.findSourceMapURL,"deletePost");e.s(["deletePost",()=>a])},13378,e=>{"use strict";var t=e.i(62311);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:n="",children:c,iconNode:o,...d},m)=>(0,t.createElement)("svg",{ref:m,...i,width:a,height:a,stroke:e,strokeWidth:l?24*Number(s)/Number(a):s,className:r("lucide",n),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...o.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),l=(e,i)=>{let l=(0,t.forwardRef)(({className:l,...n},c)=>(0,t.createElement)(s,{ref:c,iconNode:i,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=a(e),l};e.s(["default",()=>l],13378)},45662,e=>{"use strict";var t=e.i(87155),a=e.i(62311),r=e.i(42482),i=e.i(83838),s=e.i(13378);let l=(0,s.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),n=(0,s.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),c=(0,s.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=(0,s.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=e.i(7284);let m={premium:{title:"Premium Entry",description:"This content is part of the Premium Archive. It includes extended analysis, high-resolution assets, or exclusive insights reserved for supporters.",icon:(0,t.jsx)(l,{className:"w-full h-full"}),style:{trigger:"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-500 border-amber-200 dark:border-amber-800/50",modalIcon:"bg-amber-50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-900/30 text-amber-600 dark:text-amber-500"}},nsfw:{title:"Sensitive Content",description:"This post contains material that may be unsuitable for public viewing or younger audiences (NSFW). Viewer discretion is advised.",icon:(0,t.jsx)(n,{className:"w-full h-full"}),style:{trigger:"bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-500 border-rose-200 dark:border-rose-800/50",modalIcon:"bg-rose-50 dark:bg-rose-900/10 border-rose-100 dark:border-rose-900/30 text-rose-600 dark:text-rose-500"}},spoiler:{title:"Spoiler Warning",description:"This post discusses significant plot details, twists, or endings. We recommend viewing the source material before reading.",icon:(0,t.jsx)(c,{className:"w-full h-full"}),style:{trigger:"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border-zinc-200 dark:border-zinc-700",modalIcon:"bg-zinc-100 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400"}}};function u({type:e}){let[s,l]=(0,a.useState)(!1),n=m[e];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),l(!0)},className:(0,d.clsx)("group relative flex items-center gap-1.5 px-3 py-1 rounded-full border transition-all hover:opacity-80 focus:outline-none",n.style.trigger),children:[(0,t.jsx)("div",{className:"w-3 h-3",children:n.icon}),(0,t.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"nsfw"===e?"Sensitive":e})]}),(0,t.jsx)(i.Transition,{appear:!0,show:s,as:a.Fragment,children:(0,t.jsxs)(r.Dialog,{as:"div",className:"relative z-[100]",onClose:()=>l(!1),children:[(0,t.jsx)(i.Transition.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-zinc-900/40 dark:bg-black/80 backdrop-blur-sm"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,t.jsx)(i.Transition.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)(r.Dialog.Panel,{className:"w-full max-w-sm transform overflow-hidden rounded-sm bg-white dark:bg-zinc-950 p-6 text-left align-middle shadow-2xl transition-all border-2 border-zinc-100 dark:border-zinc-800",children:[(0,t.jsx)("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:(0,t.jsx)(o,{size:20})}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center pt-2",children:[(0,t.jsx)("div",{className:(0,d.clsx)("w-16 h-16 p-4 rounded-sm mb-5 border",n.style.modalIcon),children:n.icon}),(0,t.jsx)(r.Dialog.Title,{as:"h3",className:"text-xl font-bold uppercase tracking-tight text-zinc-900 dark:text-zinc-100",children:n.title}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("p",{className:"text-sm leading-relaxed text-zinc-600 dark:text-zinc-400",children:n.description})}),(0,t.jsx)("div",{className:"mt-8 w-full",children:(0,t.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-sm border border-zinc-900 dark:border-zinc-700 bg-zinc-900 dark:bg-zinc-100 px-6 py-3 text-xs font-bold uppercase tracking-widest text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-200 focus:outline-none transition-colors",onClick:()=>l(!1),children:"Understood"})})]})]})})})})]})})]})}function x(){return(0,t.jsx)(u,{type:"premium"})}function h(){return(0,t.jsx)(u,{type:"nsfw"})}function p(){return(0,t.jsx)(u,{type:"spoiler"})}e.s(["NsfwBadge",()=>h,"PremiumBadge",()=>x,"SpoilerBadge",()=>p],45662)},53950,e=>{"use strict";let t=(0,e.i(13378).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],53950)},84170,e=>{e.v({className:"inter_5ff990ed-module__qmqxJG__className"})},23176,e=>{e.v({className:"dm_serif_display_aac23e2c-module__FGICNq__className"})},88761,e=>{"use strict";var t=e.i(87155),a=e.i(62311),r=e.i(30104),i=e.i(51588),s=e.i(53950),l=e.i(13378);let n=(0,l.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),c=(0,l.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),o=(0,l.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),d=(0,l.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),m=(0,l.default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=e.i(45662),x=e.i(89448),h=e.i(84170);let p={className:h.default.className,style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"}};null!=h.default.variable&&(p.variable=h.default.variable);var f=e.i(23176);let b={className:f.default.className,style:{fontFamily:"'DM Serif Display', 'DM Serif Display Fallback'",fontWeight:400,fontStyle:"normal"}};function g({slug:e,postId:i}){let[s,l]=(0,a.useState)(!1),[n,c]=(0,a.useState)(!1),u=async e=>{if(e.preventDefault(),e.stopPropagation(),!window.confirm("Delete this post permanently?"))return;c(!0);let t=await (0,x.deletePost)(i);t.success||(alert(t.error),c(!1))};return(0,t.jsxs)("div",{className:"absolute top-3 right-3 z-30 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),l(!s)},"aria-label":"Post actions",className:"p-1.5 rounded-full bg-white/90 dark:bg-zinc-900/90 backdrop-blur text-zinc-600 dark:text-zinc-300 shadow-sm hover:shadow active:scale-95 transition",children:(0,t.jsx)(o,{size:18})}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-40 rounded-lg bg-white dark:bg-zinc-900 shadow-xl ring-1 ring-black/5 dark:ring-white/5 overflow-hidden z-20",children:[(0,t.jsxs)(r.default,{href:`/blog/${e}/edit`,onClick:e=>e.stopPropagation(),className:"flex items-center gap-2 px-4 py-2.5 text-xs font-medium text-zinc-700 dark:text-zinc-200 hover:bg-zinc-50 dark:hover:bg-zinc-800",children:[(0,t.jsx)(d,{size:14}),"Edit"]}),(0,t.jsxs)("button",{onClick:u,disabled:n,className:"flex w-full items-center gap-2 px-4 py-2.5 text-xs font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[(0,t.jsx)(m,{size:14}),n?"Deletingâ€¦":"Delete"]})]})]})]})}function v({post:e,isOwner:a=!1}){let l=e.content_html?.replace(/<[^>]+>/g,"")||"",o=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(0,t.jsxs)("div",{className:`${p.className} group relative h-full rounded-xl bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 overflow-hidden`,children:[a&&(0,t.jsx)(g,{slug:e.slug,postId:e.id}),(0,t.jsxs)(r.default,{href:`/blog/${e.slug}`,className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"relative aspect-[16/9] bg-zinc-100 dark:bg-zinc-900 overflow-hidden",children:[e.banner_url?(0,t.jsx)(i.default,{src:e.banner_url,alt:e.title,fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-105"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-zinc-300 dark:text-zinc-700 text-sm",children:"No cover image"}),(0,t.jsxs)("div",{className:"absolute top-3 left-3 flex gap-2 scale-90 origin-top-left",children:[e.is_premium&&(0,t.jsx)(u.PremiumBadge,{}),e.is_nsfw&&(0,t.jsx)(u.NsfwBadge,{}),e.has_spoilers&&(0,t.jsx)(u.SpoilerBadge,{})]})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 px-4 py-4",children:[" ",(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-zinc-400",children:o}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"relative w-5 h-5 rounded-full overflow-hidden bg-zinc-100 dark:bg-zinc-800",children:(0,t.jsx)(i.default,{src:e.author.profile_pic_url||"/placeholder-user.jpg",alt:e.author.display_name,fill:!0,className:"object-cover"})}),(0,t.jsx)("span",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400 line-clamp-1 max-w-[100px]",children:e.author.display_name})]})]}),(0,t.jsx)("h2",{className:`${b.className} text-lg text-zinc-900 dark:text-zinc-100 leading-snug mb-2 group-hover:underline decoration-1 underline-offset-4 line-clamp-2`,children:e.title}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-zinc-600 dark:text-zinc-500 line-clamp-3 mb-4",children:l}),(0,t.jsxs)("div",{className:"mt-auto flex items-center gap-4 text-xs font-medium text-zinc-400 border-t border-zinc-100 dark:border-zinc-900 pt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:[(0,t.jsx)(n,{size:14}),e.likes_count||0]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:[(0,t.jsx)(c,{size:14}),e.comments_count||0]}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-1.5",children:[(0,t.jsx)(s.Eye,{size:14}),e.view_count.toLocaleString()]})]})]})]})]})}null!=f.default.variable&&(b.variable=f.default.variable),e.s(["default",()=>v],88761)}]);